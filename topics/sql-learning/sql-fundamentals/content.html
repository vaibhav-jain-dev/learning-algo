<h1 id="sql-fundamentals">SQL Fundamentals</h1>
<h2 id="overview">Overview</h2>
<p>SQL (Structured Query Language) is the universal language for interacting with relational databases. It enables developers to query, insert, update, and delete data with precision and efficiency. SQL has been the backbone of data management for over four decades, and mastering its fundamentals is essential for anyone working with data-driven applications, analytics, or backend systems.</p>
<p>This comprehensive guide covers the core building blocks of SQL, from basic SELECT statements to complex aggregations and filtering. Understanding these fundamentals provides the foundation for advanced topics like joins, subqueries, window functions, and query optimization.</p>
<hr />
<h2 id="why-it-matters">Why It Matters</h2>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 28px; margin: 24px 0">
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px">
<div style="background: #ffffff; border-radius: 12px; padding: 20px;box-shadow: 0 2px 4px rgba(0,0,0,0.05)">
<div style="color: #1e40af; font-weight: bold; font-size: 16px; margin-bottom: 12px">Industry Relevance</div>
<ul style="margin: 0; padding-left: 20px; color: #1e293b; font-size: 14px; line-height: 1.8">
<li>Powers 90%+ of business applications worldwide</li>
<li>Essential for data analysis and business intelligence</li>
<li>Required skill for backend and full-stack development</li>
<li>Foundation for data engineering and ETL pipelines</li>
<li>Critical for DevOps and infrastructure monitoring</li>
</ul>
</div>
<div style="background: #ffffff; border-radius: 12px; padding: 20px;box-shadow: 0 2px 4px rgba(0,0,0,0.05)">
<div style="color: #047857; font-weight: bold; font-size: 16px; margin-bottom: 12px">Interview Importance</div>
<ul style="margin: 0; padding-left: 20px; color: #1e293b; font-size: 14px; line-height: 1.8">
<li>Asked in 95%+ of backend developer interviews</li>
<li>Core requirement for data analyst positions</li>
<li>Essential for data scientist technical screens</li>
<li>Tested in full-stack and DevOps roles</li>
<li>Common in system design discussions</li>
</ul>
</div>
</div>
</div>
<p>Understanding SQL fundamentals opens doors across the entire technology industry. Whether you are building web applications, analyzing business data, or designing data pipelines, SQL proficiency is a skill that compounds in value throughout your career.</p>
<hr />
<h2 id="query-execution-order">Query Execution Order</h2>
<p>One of the most important concepts to understand is how SQL actually processes your queries. The logical execution order differs from how you write the query.</p>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 32px; margin: 24px 0">
<h4 style="color: #1e293b; margin: 0 0 24px 0; text-align: center; font-size: 18px">SQL QUERY EXECUTION ORDER</h4>
<div style="display: flex; flex-direction: column; gap: 12px; max-width: 650px; margin: 0 auto">
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #3b82f6; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">1. FROM / JOIN</div>
<span style="color: #475569; font-size: 14px">Tables are identified and joined together</span>
</div>
<div style="text-align: center; color: #3b82f6; font-size: 24px">&#8595;</div>
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #8b5cf6; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">2. WHERE</div>
<span style="color: #475569; font-size: 14px">Individual rows are filtered (before grouping)</span>
</div>
<div style="text-align: center; color: #3b82f6; font-size: 24px">&#8595;</div>
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #ec4899; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">3. GROUP BY</div>
<span style="color: #475569; font-size: 14px">Rows are organized into groups</span>
</div>
<div style="text-align: center; color: #3b82f6; font-size: 24px">&#8595;</div>
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #f59e0b; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">4. HAVING</div>
<span style="color: #475569; font-size: 14px">Groups are filtered (after aggregation)</span>
</div>
<div style="text-align: center; color: #3b82f6; font-size: 24px">&#8595;</div>
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #10b981; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">5. SELECT</div>
<span style="color: #475569; font-size: 14px">Columns are selected and expressions computed</span>
</div>
<div style="text-align: center; color: #3b82f6; font-size: 24px">&#8595;</div>
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #06b6d4; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">6. DISTINCT</div>
<span style="color: #475569; font-size: 14px">Duplicate rows are removed</span>
</div>
<div style="text-align: center; color: #3b82f6; font-size: 24px">&#8595;</div>
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #6366f1; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">7. ORDER BY</div>
<span style="color: #475569; font-size: 14px">Results are sorted</span>
</div>
<div style="text-align: center; color: #3b82f6; font-size: 24px">&#8595;</div>
<div style="display: flex; align-items: center; gap: 16px">
<div style="background: #64748b; color: #ffffff; padding: 12px 24px; border-radius: 10px; min-width: 160px; text-align: center; font-weight: bold; font-size: 14px">8. LIMIT / OFFSET</div>
<span style="color: #475569; font-size: 14px">Result set is limited and paginated</span>
</div>
</div>
</div>
<p>This execution order explains many SQL behaviors. For example, you cannot use a column alias defined in SELECT within your WHERE clause, because WHERE is processed before SELECT.</p>
<hr />
<h2 id="sample-data">Sample Data</h2>
<p>For all examples in this guide, we will use the following tables:</p>
<pre><code class="language-sql">-- Customers table
CREATE TABLE customers (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE,
    country VARCHAR(50),
    created_at TIMESTAMP DEFAULT NOW()
);

-- Products table
CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    category VARCHAR(50),
    price DECIMAL(10,2),
    stock INTEGER DEFAULT 0,
    status VARCHAR(20) DEFAULT 'active'
);

-- Orders table
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    customer_id INTEGER REFERENCES customers(id),
    total_amount DECIMAL(10,2),
    status VARCHAR(20) DEFAULT 'pending',
    created_at TIMESTAMP DEFAULT NOW()
);

-- Sample data
INSERT INTO customers (id, name, email, country) VALUES
    (1, 'Alice Johnson', 'alice@example.com', 'USA'),
    (2, 'Bob Smith', 'bob@example.com', 'Canada'),
    (3, 'Charlie Brown', 'charlie@example.com', 'USA'),
    (4, 'Diana Prince', 'diana@example.com', 'UK'),
    (5, 'Eve Wilson', NULL, 'Australia');

INSERT INTO products (id, name, category, price, stock, status) VALUES
    (1, 'Laptop Pro', 'Electronics', 1299.99, 50, 'active'),
    (2, 'Wireless Mouse', 'Electronics', 29.99, 200, 'active'),
    (3, 'Coffee Maker', 'Appliances', 79.99, 75, 'active'),
    (4, 'Desk Lamp', 'Furniture', 45.00, 0, 'discontinued'),
    (5, 'Notebook Set', 'Stationery', 12.99, 500, 'active');

INSERT INTO orders (id, customer_id, total_amount, status, created_at) VALUES
    (101, 1, 1329.98, 'completed', '2024-01-15'),
    (102, 1, 79.99, 'completed', '2024-02-20'),
    (103, 2, 29.99, 'pending', '2024-03-10'),
    (104, 3, 1299.99, 'completed', '2024-03-15'),
    (105, NULL, 45.00, 'cancelled', '2024-03-20');
</code></pre>
<hr />
<h2 id="the-select-statement">The SELECT Statement</h2>
<p>The SELECT statement is the foundation of SQL queries. It retrieves data from one or more tables.</p>
<h3 id="basic-selection">Basic Selection</h3>
<pre><code class="language-sql">-- Select all columns (avoid in production)
SELECT * FROM customers;

-- Select specific columns
SELECT id, name, email FROM customers;

-- Select with column aliases
SELECT
    id AS customer_id,
    name AS customer_name,
    email AS contact_email
FROM customers;
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is a Basic Selection?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about Basic Selection in terms of its fundamental definition and purpose. Consider what makes it unique compared to related concepts. Try to identify the key characteristics that define it and the problems it was designed to solve.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Basic Selection?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Basic Selection provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Basic Selection?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Basic Selection from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="computed-columns-and-expressions">Computed Columns and Expressions</h3>
<pre><code class="language-sql">-- Arithmetic expressions
SELECT
    name,
    price,
    price * 1.1 AS price_with_tax,
    price * 0.9 AS discounted_price,
    stock * price AS inventory_value
FROM products;

-- String concatenation
SELECT
    name || ' (' || country || ')' AS customer_location
FROM customers;

-- CASE expressions for conditional logic
SELECT
    name,
    price,
    CASE
        WHEN price &lt; 50 THEN 'Budget'
        WHEN price &lt; 200 THEN 'Standard'
        WHEN price &lt; 1000 THEN 'Premium'
        ELSE 'Luxury'
    END AS price_tier
FROM products;
</code></pre>
<hr />

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Computed Columns and Expressions and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Computed Columns and Expressions and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Computed Columns and Expressions?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Computed Columns and Expressions provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Computed Columns and Expressions?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Computed Columns and Expressions from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h2 id="filtering-with-where">Filtering with WHERE</h2>
<p>The WHERE clause filters rows before any grouping or aggregation occurs.</p>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 28px; margin: 24px 0">
<h4 style="color: #1e293b; margin: 0 0 20px 0; text-align: center; font-size: 16px">COMPARISON OPERATORS</h4>
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px">
<div style="background: #ffffff; border-radius: 10px; padding: 16px; text-align: center">
<code style="color: #1e293b; font-size: 18px; font-weight: bold">=</code>
<div style="color: #64748b; font-size: 12px; margin-top: 8px">Equal to</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px; text-align: center">
<code style="color: #1e293b; font-size: 18px; font-weight: bold"><> or !=</code>
<div style="color: #64748b; font-size: 12px; margin-top: 8px">Not equal to</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px; text-align: center">
<code style="color: #1e293b; font-size: 18px; font-weight: bold">< ></code>
<div style="color: #64748b; font-size: 12px; margin-top: 8px">Less/Greater than</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px; text-align: center">
<code style="color: #1e293b; font-size: 18px; font-weight: bold"><= >=</code>
<div style="color: #64748b; font-size: 12px; margin-top: 8px">Less/Greater or equal</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px; text-align: center">
<code style="color: #1e293b; font-size: 18px; font-weight: bold">BETWEEN</code>
<div style="color: #64748b; font-size: 12px; margin-top: 8px">Range (inclusive)</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px; text-align: center">
<code style="color: #1e293b; font-size: 18px; font-weight: bold">IN</code>
<div style="color: #64748b; font-size: 12px; margin-top: 8px">Match any in list</div>
</div>
</div>
</div>
<h3 id="comparison-operators">Comparison Operators</h3>
<pre><code class="language-sql">-- Basic comparisons
SELECT * FROM products WHERE price &gt; 50;
SELECT * FROM products WHERE stock = 0;
SELECT * FROM customers WHERE country != 'USA';

-- BETWEEN for ranges (inclusive on both ends)
SELECT * FROM products
WHERE price BETWEEN 20 AND 100;

-- IN for matching multiple values
SELECT * FROM customers
WHERE country IN ('USA', 'Canada', 'UK');

-- NOT IN for exclusion
SELECT * FROM products
WHERE category NOT IN ('Electronics', 'Furniture');
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Comparison Operators and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Comparison Operators and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Comparison Operators?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Comparison Operators provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Comparison Operators?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Comparison Operators from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="pattern-matching-with-like">Pattern Matching with LIKE</h3>
<pre><code class="language-sql">-- Starts with 'A'
SELECT * FROM customers WHERE name LIKE 'A%';

-- Ends with '@example.com'
SELECT * FROM customers WHERE email LIKE '%@example.com';

-- Contains 'son'
SELECT * FROM customers WHERE name LIKE '%son%';

-- Single character wildcard
SELECT * FROM products WHERE name LIKE 'Laptop___';  -- 3 chars after Laptop

-- Case-insensitive matching (PostgreSQL)
SELECT * FROM customers WHERE name ILIKE '%brown%';
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is the Pattern Matching with LIKE and when should you use it?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>The Pattern Matching with LIKE addresses a specific category of problems. Think about the conditions that make this pattern valuable - what symptoms in your code suggest you need it? Also consider what alternatives exist and why you might choose this approach over others.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Pattern Matching with LIKE?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Pattern Matching with LIKE provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Pattern Matching with LIKE?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Pattern Matching with LIKE from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="null-handling">NULL Handling</h3>
<div style="background: linear-gradient(135deg, #fef3c7 0%, #fef9c3 100%);border-radius: 12px; padding: 20px; margin: 20px 0">
<div style="color: #92400e; font-weight: bold; font-size: 14px; margin-bottom: 8px">Important: NULL Comparisons</div>
<div style="color: #78350f; font-size: 14px">NULL represents missing or unknown data. You cannot compare NULL using = or !=. Always use IS NULL or IS NOT NULL.</div>
</div>
<pre><code class="language-sql">-- WRONG: This will not work!
SELECT * FROM customers WHERE email = NULL;

-- CORRECT: Use IS NULL
SELECT * FROM customers WHERE email IS NULL;

-- Find customers WITH email addresses
SELECT * FROM customers WHERE email IS NOT NULL;

-- COALESCE provides a default for NULL values
SELECT
    name,
    COALESCE(email, 'No email provided') AS contact
FROM customers;
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is a NULL Handling?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about NULL Handling in terms of its fundamental definition and purpose. Consider what makes it unique compared to related concepts. Try to identify the key characteristics that define it and the problems it was designed to solve.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply NULL Handling?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where NULL Handling provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using NULL Handling?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider NULL Handling from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="combining-conditions">Combining Conditions</h3>
<pre><code class="language-sql">-- AND: Both conditions must be true
SELECT * FROM products
WHERE category = 'Electronics' AND price &lt; 100;

-- OR: Either condition can be true
SELECT * FROM orders
WHERE status = 'pending' OR status = 'processing';

-- Complex combinations with parentheses
SELECT * FROM products
WHERE (category = 'Electronics' OR category = 'Appliances')
  AND price &lt; 100
  AND stock &gt; 0;

-- NOT: Negates a condition
SELECT * FROM products
WHERE NOT (status = 'discontinued' OR stock = 0);
</code></pre>
<hr />

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Combining Conditions and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Combining Conditions and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Combining Conditions?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Combining Conditions provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Combining Conditions?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Combining Conditions from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h2 id="aggregation-functions">Aggregation Functions</h2>
<p>Aggregate functions perform calculations across multiple rows and return a single result.</p>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 28px; margin: 24px 0">
<h4 style="color: #1e293b; margin: 0 0 20px 0; text-align: center; font-size: 16px">AGGREGATE FUNCTIONS</h4>
<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px">
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<code style="color: #1e40af; font-weight: bold">COUNT(*)</code>
<div style="color: #475569; font-size: 13px; margin-top: 8px">Counts all rows including NULLs</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<code style="color: #047857; font-weight: bold">COUNT(column)</code>
<div style="color: #475569; font-size: 13px; margin-top: 8px">Counts non-NULL values in column</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<code style="color: #6d28d9; font-weight: bold">SUM(column)</code>
<div style="color: #475569; font-size: 13px; margin-top: 8px">Adds up all numeric values</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<code style="color: #b45309; font-weight: bold">AVG(column)</code>
<div style="color: #475569; font-size: 13px; margin-top: 8px">Calculates arithmetic mean</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<code style="color: #be185d; font-weight: bold">MIN(column)</code>
<div style="color: #475569; font-size: 13px; margin-top: 8px">Finds smallest value</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<code style="color: #0891b2; font-weight: bold">MAX(column)</code>
<div style="color: #475569; font-size: 13px; margin-top: 8px">Finds largest value</div>
</div>
</div>
</div>
<pre><code class="language-sql">-- Basic aggregations
SELECT
    COUNT(*) AS total_products,
    COUNT(DISTINCT category) AS unique_categories,
    SUM(stock) AS total_inventory,
    AVG(price) AS average_price,
    MIN(price) AS cheapest_product,
    MAX(price) AS most_expensive
FROM products
WHERE status = 'active';

-- Conditional aggregation
SELECT
    COUNT(*) AS total_orders,
    COUNT(CASE WHEN status = 'completed' THEN 1 END) AS completed_orders,
    COUNT(CASE WHEN status = 'pending' THEN 1 END) AS pending_orders,
    SUM(CASE WHEN status = 'completed' THEN total_amount ELSE 0 END) AS completed_revenue
FROM orders;
</code></pre>
<hr />
<h2 id="group-by-and-having">GROUP BY and HAVING</h2>
<p>GROUP BY organizes rows into groups for aggregate calculations. HAVING filters groups after aggregation.</p>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 28px; margin: 24px 0">
<h4 style="color: #1e293b; margin: 0 0 20px 0; text-align: center; font-size: 16px">WHERE vs HAVING</h4>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px">
<div style="background: #ffffff; border-radius: 12px; padding: 20px">
<div style="color: #1e40af; font-weight: bold; font-size: 16px; margin-bottom: 12px">WHERE</div>
<div style="color: #475569; font-size: 14px; margin-bottom: 16px">Filters individual rows BEFORE grouping</div>
<div style="background: #f1f5f9; padding: 12px; border-radius: 8px; font-family: monospace; font-size: 12px; color: #1e293b">
  SELECT category, COUNT(*)<br/>
  FROM products<br/>
<span style="color: #3b82f6; font-weight: bold">WHERE price > 50</span><br/>
  GROUP BY category;
</div>
</div>
<div style="background: #ffffff; border-radius: 12px; padding: 20px">
<div style="color: #b45309; font-weight: bold; font-size: 16px; margin-bottom: 12px">HAVING</div>
<div style="color: #475569; font-size: 14px; margin-bottom: 16px">Filters groups AFTER aggregation</div>
<div style="background: #f1f5f9; padding: 12px; border-radius: 8px; font-family: monospace; font-size: 12px; color: #1e293b">
  SELECT category, COUNT(*)<br/>
  FROM products<br/>
  GROUP BY category<br/>
<span style="color: #f59e0b; font-weight: bold">HAVING COUNT(*) >= 2</span>;
</div>
</div>
</div>
</div>
<pre><code class="language-sql">-- Group by single column
SELECT
    country,
    COUNT(*) AS customer_count
FROM customers
GROUP BY country
ORDER BY customer_count DESC;

-- Group by multiple columns
SELECT
    category,
    status,
    COUNT(*) AS product_count,
    AVG(price) AS avg_price
FROM products
GROUP BY category, status;

-- Using HAVING to filter groups
SELECT
    customer_id,
    COUNT(*) AS order_count,
    SUM(total_amount) AS total_spent
FROM orders
WHERE status = 'completed'
GROUP BY customer_id
HAVING SUM(total_amount) &gt; 100
ORDER BY total_spent DESC;
</code></pre>
<hr />
<h2 id="sorting-and-limiting-results">Sorting and Limiting Results</h2>
<h3 id="order-by">ORDER BY</h3>
<pre><code class="language-sql">-- Sort ascending (default)
SELECT * FROM products ORDER BY price;

-- Sort descending
SELECT * FROM products ORDER BY price DESC;

-- Multiple sort columns
SELECT * FROM products
ORDER BY category ASC, price DESC;

-- Sort by expression
SELECT
    name,
    stock * price AS inventory_value
FROM products
ORDER BY stock * price DESC;

-- Sort by column position (not recommended)
SELECT name, price FROM products ORDER BY 2 DESC;

-- NULL handling in sorts
SELECT * FROM customers
ORDER BY email NULLS LAST;  -- PostgreSQL specific
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is an ORDER BY?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about ORDER BY in terms of its fundamental definition and purpose. Consider what makes it unique compared to related concepts. Try to identify the key characteristics that define it and the problems it was designed to solve.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply ORDER BY?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where ORDER BY provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using ORDER BY?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider ORDER BY from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="limit-and-offset">LIMIT and OFFSET</h3>
<pre><code class="language-sql">-- Get first 10 rows
SELECT * FROM products
ORDER BY created_at DESC
LIMIT 10;

-- Pagination: Skip first 20, get next 10
SELECT * FROM products
ORDER BY id
LIMIT 10 OFFSET 20;

-- PostgreSQL alternative syntax
SELECT * FROM products
ORDER BY id
OFFSET 20 ROWS
FETCH NEXT 10 ROWS ONLY;
</code></pre>
<hr />

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is a LIMIT and OFFSET?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about LIMIT and OFFSET in terms of its fundamental definition and purpose. Consider what makes it unique compared to related concepts. Try to identify the key characteristics that define it and the problems it was designed to solve.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply LIMIT and OFFSET?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where LIMIT and OFFSET provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using LIMIT and OFFSET?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider LIMIT and OFFSET from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h2 id="query-patterns">Query Patterns</h2>
<h3 id="finding-duplicates">Finding Duplicates</h3>
<pre><code class="language-sql">-- Find duplicate email addresses
SELECT email, COUNT(*) AS count
FROM customers
WHERE email IS NOT NULL
GROUP BY email
HAVING COUNT(*) &gt; 1;

-- Find and display all duplicate records
SELECT c1.*
FROM customers c1
WHERE email IN (
    SELECT email
    FROM customers
    GROUP BY email
    HAVING COUNT(*) &gt; 1
);
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Finding Duplicates and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Finding Duplicates and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Finding Duplicates?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Finding Duplicates provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Finding Duplicates?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Finding Duplicates from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="top-n-queries">Top-N Queries</h3>
<pre><code class="language-sql">-- Top 5 most expensive products
SELECT name, price
FROM products
ORDER BY price DESC
LIMIT 5;

-- Top 3 customers by total spending
SELECT
    c.name,
    SUM(o.total_amount) AS total_spent
FROM customers c
JOIN orders o ON c.id = o.customer_id
WHERE o.status = 'completed'
GROUP BY c.id, c.name
ORDER BY total_spent DESC
LIMIT 3;
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Top-N Queries and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Top-N Queries and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Top-N Queries?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Top-N Queries provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Top-N Queries?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Top-N Queries from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="date-and-time-queries">Date and Time Queries</h3>
<pre><code class="language-sql">-- Orders from the last 30 days
SELECT * FROM orders
WHERE created_at &gt;= NOW() - INTERVAL '30 days';

-- Group by month
SELECT
    DATE_TRUNC('month', created_at) AS month,
    COUNT(*) AS order_count,
    SUM(total_amount) AS monthly_revenue
FROM orders
GROUP BY DATE_TRUNC('month', created_at)
ORDER BY month;

-- Extract parts of dates
SELECT
    EXTRACT(YEAR FROM created_at) AS year,
    EXTRACT(MONTH FROM created_at) AS month,
    COUNT(*) AS orders
FROM orders
GROUP BY EXTRACT(YEAR FROM created_at), EXTRACT(MONTH FROM created_at);
</code></pre>
<hr />

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Date and Time Queries and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Date and Time Queries and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: In what scenarios would you apply Date and Time Queries?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about the characteristics of problems where Date and Time Queries provides the most value. Consider both the technical requirements (data structures, algorithms needed) and the business context (scalability, performance constraints). Real-world applications often require adapting the theoretical approach to practical constraints.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Date and Time Queries?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Date and Time Queries from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h2 id="performance-tips">Performance Tips</h2>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 28px; margin: 24px 0">
<h4 style="color: #1e293b; margin: 0 0 20px 0">Performance Best Practices</h4>
<div style="display: grid; gap: 16px">
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<div style="color: #047857; font-weight: bold; margin-bottom: 8px">1. Avoid SELECT *</div>
<div style="color: #475569; font-size: 14px">Specify only the columns you need. This reduces I/O, memory usage, and network transfer.</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<div style="color: #1e40af; font-weight: bold; margin-bottom: 8px">2. Index Your WHERE Columns</div>
<div style="color: #475569; font-size: 14px">Create indexes on columns frequently used in WHERE, ORDER BY, and GROUP BY clauses.</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<div style="color: #b45309; font-weight: bold; margin-bottom: 8px">3. Avoid Functions on Indexed Columns</div>
<div style="color: #475569; font-size: 14px">WHERE YEAR(created_at) = 2024 cannot use an index. Use: WHERE created_at >= '2024-01-01' AND created_at < '2025-01-01'</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<div style="color: #be185d; font-weight: bold; margin-bottom: 8px">4. Use LIMIT for Large Results</div>
<div style="color: #475569; font-size: 14px">Always paginate large result sets. For better performance, use keyset pagination over OFFSET.</div>
</div>
<div style="background: #ffffff; border-radius: 10px; padding: 16px">
<div style="color: #6d28d9; font-weight: bold; margin-bottom: 8px">5. Use EXPLAIN ANALYZE</div>
<div style="color: #475569; font-size: 14px">Always analyze your query execution plans to understand how the database processes your queries.</div>
</div>
</div>
</div>
<pre><code class="language-sql">-- Use EXPLAIN ANALYZE to understand query performance
EXPLAIN ANALYZE
SELECT * FROM orders
WHERE customer_id = 1
ORDER BY created_at DESC;

-- Index-friendly query patterns
SELECT * FROM orders
WHERE created_at &gt;= '2024-01-01' AND created_at &lt; '2024-02-01';  -- Good

-- vs index-unfriendly patterns
SELECT * FROM orders
WHERE EXTRACT(MONTH FROM created_at) = 1;  -- Bad: function prevents index use
</code></pre>
<hr />
<h2 id="interview-questions">Interview Questions</h2>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 28px; margin: 24px 0">
<div style="margin-bottom: 24px">
<div style="background: #dcfce7; color: #166534; padding: 8px 16px; border-radius: 20px; display: inline-block; font-weight: bold; margin-bottom: 12px">Easy</div>
<ul style="margin: 0; padding-left: 20px; color: #1e293b; line-height: 2">
<li><strong>What is the difference between WHERE and HAVING?</strong><br/>
<span style="color: #475569">WHERE filters rows before grouping; HAVING filters groups after aggregation.</span></li>
<li><strong>How do you find NULL values?</strong><br/>
<span style="color: #475569">Use IS NULL or IS NOT NULL. You cannot use = NULL.</span></li>
<li><strong>What does COUNT(*) vs COUNT(column) return?</strong><br/>
<span style="color: #475569">COUNT(*) counts all rows; COUNT(column) counts non-NULL values.</span></li>
</ul>
</div>
<div style="margin-bottom: 24px">
<div style="background: #fef3c7; color: #92400e; padding: 8px 16px; border-radius: 20px; display: inline-block; font-weight: bold; margin-bottom: 12px">Medium</div>
<ul style="margin: 0; padding-left: 20px; color: #1e293b; line-height: 2">
<li><strong>Why can not you use a column alias in WHERE?</strong><br/>
<span style="color: #475569">Because WHERE executes before SELECT in the logical query order.</span></li>
<li><strong>How do you find duplicate records?</strong><br/>
<span style="color: #475569">Use GROUP BY with HAVING COUNT(*) > 1.</span></li>
<li><strong>What is the difference between UNION and UNION ALL?</strong><br/>
<span style="color: #475569">UNION removes duplicates (slower); UNION ALL keeps all rows (faster).</span></li>
</ul>
</div>
<div>
<div style="background: #fee2e2; color: #991b1b; padding: 8px 16px; border-radius: 20px; display: inline-block; font-weight: bold; margin-bottom: 12px">Hard</div>
<ul style="margin: 0; padding-left: 20px; color: #1e293b; line-height: 2">
<li><strong>How do you find the second highest salary?</strong><br/>
<span style="color: #475569">Use DISTINCT with LIMIT/OFFSET: <code>SELECT DISTINCT salary FROM employees ORDER BY salary DESC LIMIT 1 OFFSET 1</code>. Alternatively, use a subquery: <code>SELECT MAX(salary) FROM employees WHERE salary < (SELECT MAX(salary) FROM employees)</code>.</span></li>
<li><strong>What happens with NOT IN when the subquery contains NULL?</strong><br/>
<span style="color: #475569">It returns no results. Use NOT EXISTS instead for safety.</span></li>
<li><strong>How would you optimize a slow GROUP BY query?</strong><br/>
<span style="color: #475569">Add indexes on GROUP BY columns. Filter rows with WHERE before grouping. Avoid SELECT * and only select needed columns. Consider using HAVING only when filtering on aggregates is required. Analyze the query plan with EXPLAIN ANALYZE.</span></li>
</ul>
</div>
</div>
<hr />
<h2 id="practice-problems">Practice Problems</h2>
<h3 id="problem-1-customer-summary-report">Problem 1: Customer Summary Report</h3>
<pre><code class="language-sql">-- Create a report showing each country with:
-- - Number of customers
-- - Number of customers with email
-- - Number of customers without email

SELECT
    country,
    COUNT(*) AS total_customers,
    COUNT(email) AS with_email,
    COUNT(*) - COUNT(email) AS without_email
FROM customers
GROUP BY country
ORDER BY total_customers DESC;
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is a Problem 1: Customer Summary Report?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about Problem 1: Customer Summary Report in terms of its fundamental definition and purpose. Consider what makes it unique compared to related concepts. Try to identify the key characteristics that define it and the problems it was designed to solve.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: How would you approach solving a problem related to Problem 1: Customer Summary Report?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Start by clearly defining the problem constraints and requirements. Consider what makes this problem challenging and what techniques apply. Think about how you would break it down into smaller subproblems. Remember that recognizing the problem pattern is often the hardest part.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Problem 1: Customer Summary Report?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Problem 1: Customer Summary Report from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="problem-2-product-price-tiers">Problem 2: Product Price Tiers</h3>
<pre><code class="language-sql">-- Categorize products into price tiers and show statistics

SELECT
    CASE
        WHEN price &lt; 50 THEN 'Budget'
        WHEN price &lt; 200 THEN 'Standard'
        WHEN price &lt; 1000 THEN 'Premium'
        ELSE 'Luxury'
    END AS price_tier,
    COUNT(*) AS product_count,
    MIN(price) AS min_price,
    MAX(price) AS max_price,
    ROUND(AVG(price), 2) AS avg_price,
    SUM(stock) AS total_stock
FROM products
WHERE status = 'active'
GROUP BY
    CASE
        WHEN price &lt; 50 THEN 'Budget'
        WHEN price &lt; 200 THEN 'Standard'
        WHEN price &lt; 1000 THEN 'Premium'
        ELSE 'Luxury'
    END
ORDER BY avg_price;
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Problem 2: Product Price Tiers and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Problem 2: Product Price Tiers and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: How would you approach solving a problem related to Problem 2: Product Price Tiers?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Start by clearly defining the problem constraints and requirements. Consider what makes this problem challenging and what techniques apply. Think about how you would break it down into smaller subproblems. Remember that recognizing the problem pattern is often the hardest part.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Problem 2: Product Price Tiers?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Problem 2: Product Price Tiers from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="problem-3-second-highest-value">Problem 3: Second Highest Value</h3>
<pre><code class="language-sql">-- Find the second highest price
-- Method 1: Using OFFSET
SELECT DISTINCT price
FROM products
ORDER BY price DESC
LIMIT 1 OFFSET 1;

-- Method 2: Using subquery
SELECT MAX(price) AS second_highest
FROM products
WHERE price &lt; (SELECT MAX(price) FROM products);
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is a Problem 3: Second Highest Value?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about Problem 3: Second Highest Value in terms of its fundamental definition and purpose. Consider what makes it unique compared to related concepts. Try to identify the key characteristics that define it and the problems it was designed to solve.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: How would you approach solving a problem related to Problem 3: Second Highest Value?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Start by clearly defining the problem constraints and requirements. Consider what makes this problem challenging and what techniques apply. Think about how you would break it down into smaller subproblems. Remember that recognizing the problem pattern is often the hardest part.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Problem 3: Second Highest Value?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Problem 3: Second Highest Value from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="problem-4-percentage-of-total">Problem 4: Percentage of Total</h3>
<pre><code class="language-sql">-- Show each category's percentage of total revenue potential

SELECT
    category,
    SUM(price * stock) AS category_value,
    ROUND(
        100.0 * SUM(price * stock) /
        (SELECT SUM(price * stock) FROM products WHERE status = 'active'),
        2
    ) AS percentage
FROM products
WHERE status = 'active'
GROUP BY category
ORDER BY percentage DESC;
</code></pre>

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What is a Problem 4: Percentage of Total?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Think about Problem 4: Percentage of Total in terms of its fundamental definition and purpose. Consider what makes it unique compared to related concepts. Try to identify the key characteristics that define it and the problems it was designed to solve.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: How would you approach solving a problem related to Problem 4: Percentage of Total?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Start by clearly defining the problem constraints and requirements. Consider what makes this problem challenging and what techniques apply. Think about how you would break it down into smaller subproblems. Remember that recognizing the problem pattern is often the hardest part.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: What are the trade-offs involved in using Problem 4: Percentage of Total?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider Problem 4: Percentage of Total from multiple perspectives: What do you gain? What do you sacrifice? Think about time vs. space trade-offs, simplicity vs. flexibility, and short-term convenience vs. long-term maintainability. The best engineers understand these trade-offs deeply and make informed decisions based on their specific context.</p>
</div>
</details>
</div>
<h3 id="problem-5-consecutive-analysis">Problem 5: Consecutive Analysis</h3>
<pre><code class="language-sql">-- Find customers who placed orders in consecutive months
-- This requires understanding date operations

WITH monthly_orders AS (
    SELECT
        customer_id,
        DATE_TRUNC('month', created_at) AS order_month
    FROM orders
    WHERE customer_id IS NOT NULL
    GROUP BY customer_id, DATE_TRUNC('month', created_at)
)
SELECT DISTINCT m1.customer_id
FROM monthly_orders m1
JOIN monthly_orders m2
    ON m1.customer_id = m2.customer_id
    AND m2.order_month = m1.order_month + INTERVAL '1 month';
</code></pre>
<hr />

<div class="qa-section" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border-radius: 12px; padding: 20px; margin: 20px 0;">
<h4 style="color: #0369a1; margin-top: 0;">Check Your Understanding</h4>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q1: What are Problem 5: Consecutive Analysis and why are they important?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Consider the different types or categories of Problem 5: Consecutive Analysis and what distinguishes them. Think about real-world examples where each type would be most appropriate. Understanding the variety helps you select the right tool for each situation.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q2: How would you approach solving a problem related to Problem 5: Consecutive Analysis?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Start by clearly defining the problem constraints and requirements. Consider what makes this problem challenging and what techniques apply. Think about how you would break it down into smaller subproblems. Remember that recognizing the problem pattern is often the hardest part.</p>
</div>
</details>
<details style="margin-bottom: 12px;">
<summary style="cursor: pointer; font-weight: 600; color: #1e293b;">Q3: How do you analyze the complexity implications of Problem 5: Consecutive Analysis?</summary>
<div style="padding: 12px; background: white; border-radius: 8px; margin-top: 8px;">
<p>Start with the theoretical analysis - what is the time and space complexity in best, average, and worst cases? Then consider practical factors: constant factors matter for small inputs, cache behavior matters for large inputs. Real performance often differs from theoretical analysis due to hardware and implementation details.</p>
</div>
</details>
</div>
<h2 id="quick-reference">Quick Reference</h2>
<div style="background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-radius: 16px; padding: 28px; margin: 24px 0">
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px">
<div>
<h4 style="color: #1e293b; margin: 0 0 12px 0">Query Structure</h4>
<div style="background: #ffffff; padding: 16px; border-radius: 10px; font-family: monospace; font-size: 13px; color: #1e293b; line-height: 1.8">
  SELECT columns<br/>
  FROM table<br/>
  WHERE row_conditions<br/>
  GROUP BY columns<br/>
  HAVING group_conditions<br/>
  ORDER BY columns<br/>
  LIMIT n OFFSET m;
</div>
</div>
<div>
<h4 style="color: #1e293b; margin: 0 0 12px 0">Common Operators</h4>
<div style="background: #ffffff; padding: 16px; border-radius: 10px; font-size: 13px; color: #1e293b; line-height: 1.8">
<code>=, !=, <>, <, >, <=, >=</code><br/>
<code>AND, OR, NOT</code><br/>
<code>IN (list), NOT IN (list)</code><br/>
<code>BETWEEN a AND b</code><br/>
<code>LIKE pattern, ILIKE pattern</code><br/>
<code>IS NULL, IS NOT NULL</code>
</div>
</div>
<div>
<h4 style="color: #1e293b; margin: 0 0 12px 0">Aggregate Functions</h4>
<div style="background: #ffffff; padding: 16px; border-radius: 10px; font-size: 13px; color: #1e293b; line-height: 1.8">
<code>COUNT(*), COUNT(col)</code><br/>
<code>COUNT(DISTINCT col)</code><br/>
<code>SUM(col), AVG(col)</code><br/>
<code>MIN(col), MAX(col)</code><br/>
<code>STRING_AGG(col, delimiter)</code>
</div>
</div>
<div>
<h4 style="color: #1e293b; margin: 0 0 12px 0">NULL Functions</h4>
<div style="background: #ffffff; padding: 16px; border-radius: 10px; font-size: 13px; color: #1e293b; line-height: 1.8">
<code>COALESCE(a, b, c)</code> - First non-null<br/>
<code>NULLIF(a, b)</code> - NULL if a = b<br/>
<code>IS NULL</code> - Check for NULL<br/>
<code>IS NOT NULL</code> - Check for non-NULL
</div>
</div>
</div>
</div>
<hr />
<h2 id="related-topics">Related Topics</h2>
<ul>
<li><a href="/topic/sql-learning/joins-mastery">Joins Mastery</a> - Combine data from multiple tables</li>
<li><a href="/topic/sql-learning/subqueries-ctes">Subqueries and CTEs</a> - Write modular, complex queries</li>
<li><a href="/topic/sql-learning/window-functions">Window Functions</a> - Advanced analytics without grouping</li>
<li><a href="/topic/sql-learning/indexing-deep-dive">Database Indexing</a> - Optimize query performance</li>
<li><a href="/topic/sql-learning/query-optimization">Query Optimization</a> - Make your queries faster</li>
</ul>
