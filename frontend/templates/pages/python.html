<div class="guide-page python-theme">
    <nav class="breadcrumb">
        <a href="/">Home</a> <span class="breadcrumb-sep">/</span> <span>Python Development</span>
    </nav>

    <div class="guide-header python-header">
        <div class="guide-header-content">
            <span class="guide-badge python-badge">Python 3.10+</span>
            <h1>Python Development Guide</h1>
            <p class="guide-description">Master Python from fundamentals to production - complete learning roadmap with interactive examples</p>
        </div>
    </div>

    <!-- MAIN LAYOUT WITH SIDEBAR -->
    <div class="guide-layout">
        <!-- FIXED SIDEBAR NAVIGATION -->
        <aside class="guide-sidebar python-sidebar">
            <div class="sidebar-header">Topics</div>

            <a href="#roadmap" class="sidebar-link sidebar-home active" onclick="showRoadmap(); return false;">Overview</a>

            <div class="sidebar-section">
                <div class="sidebar-section-title py-title">Language Fundamentals</div>
                <a href="#variables-types-py" class="sidebar-link" onclick="scrollToTopic('variables-types-py'); return false;">Variables & Types</a>
                <a href="#functions-py" class="sidebar-link" onclick="scrollToTopic('functions-py'); return false;">Functions</a>
                <a href="#classes-py" class="sidebar-link" onclick="scrollToTopic('classes-py'); return false;">Classes & OOP</a>
                <a href="#decorators-section" class="sidebar-link" onclick="scrollToTopic('decorators-section'); return false;">Decorators</a>
                <a href="#generators-section" class="sidebar-link" onclick="scrollToTopic('generators-section'); return false;">Generators</a>
                <a href="#context-managers" class="sidebar-link" onclick="scrollToTopic('context-managers'); return false;">Context Managers</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title py-title">Standard Library</div>
                <a href="#collections-py" class="sidebar-link" onclick="scrollToTopic('collections-py'); return false;">Collections</a>
                <a href="#itertools-py" class="sidebar-link" onclick="scrollToTopic('itertools-py'); return false;">itertools</a>
                <a href="#functools-py" class="sidebar-link" onclick="scrollToTopic('functools-py'); return false;">functools</a>
                <a href="#pathlib-py" class="sidebar-link" onclick="scrollToTopic('pathlib-py'); return false;">pathlib & Files</a>
                <a href="#dataclasses-py" class="sidebar-link" onclick="scrollToTopic('dataclasses-py'); return false;">dataclasses</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title py-title">Concurrency & Async</div>
                <a href="#threading-py" class="sidebar-link" onclick="scrollToTopic('threading-py'); return false;">Threading</a>
                <a href="#multiprocessing-py" class="sidebar-link" onclick="scrollToTopic('multiprocessing-py'); return false;">Multiprocessing</a>
                <a href="#asyncio-py" class="sidebar-link" onclick="scrollToTopic('asyncio-py'); return false;">asyncio</a>
                <a href="#concurrent-py" class="sidebar-link" onclick="scrollToTopic('concurrent-py'); return false;">concurrent.futures</a>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-section-title py-title">Production & Tooling</div>
                <a href="#testing-py" class="sidebar-link" onclick="scrollToTopic('testing-py'); return false;">Testing</a>
                <a href="#debugging-py" class="sidebar-link" onclick="scrollToTopic('debugging-py'); return false;">Debugging</a>
                <a href="#typing-py" class="sidebar-link" onclick="scrollToTopic('typing-py'); return false;">Type Checking</a>
                <a href="#packaging-py" class="sidebar-link" onclick="scrollToTopic('packaging-py'); return false;">Packaging</a>
            </div>
        </aside>

        <!-- MAIN CONTENT AREA -->
        <main class="guide-content">

    <!-- CLICKABLE ROADMAP SECTION -->
    <section id="roadmap" class="roadmap-section">
        <h2 class="roadmap-title">Python Learning Roadmap</h2>
        <p class="roadmap-subtitle">Click topic titles to jump to content, or visit official docs</p>

        <div class="roadmap-grid">
            <!-- Language Fundamentals Column -->
            <div class="roadmap-column">
                <h3 class="column-title fundamentals-py">Language Fundamentals</h3>

                <div class="roadmap-card">
                    <a href="#variables-types-py" class="card-title-link" onclick="scrollToTopic('variables-types-py'); return false;">
                        <h4>Variables & Types</h4>
                    </a>
                    <ul>
                        <li>Dynamic typing</li>
                        <li>Type hints (PEP 484)</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/typing.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python variables and types including dynamic typing, type hints, and common data structures with examples')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#functions-py" class="card-title-link" onclick="scrollToTopic('functions-py'); return false;">
                        <h4>Functions</h4>
                    </a>
                    <ul>
                        <li>*args, **kwargs</li>
                        <li>First-class functions</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/tutorial/controlflow.html#defining-functions" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python functions including *args, **kwargs, lambda, closures, and first-class function concepts')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#classes-py" class="card-title-link" onclick="scrollToTopic('classes-py'); return false;">
                        <h4>Classes & OOP</h4>
                    </a>
                    <ul>
                        <li>Dunder methods</li>
                        <li>Inheritance, MRO</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/tutorial/classes.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python classes and OOP including dunder methods, inheritance, MRO, and dataclasses')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card highlight-card">
                    <a href="#decorators-section" class="card-title-link" onclick="scrollToTopic('decorators-section'); return false;">
                        <h4>Decorators</h4>
                    </a>
                    <ul>
                        <li>Function decorators</li>
                        <li>Class decorators</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://realpython.com/primer-on-python-decorators/" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python decorators including function decorators, class decorators, and functools.wraps')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card highlight-card">
                    <a href="#generators-section" class="card-title-link" onclick="scrollToTopic('generators-section'); return false;">
                        <h4>Generators & Iterators</h4>
                    </a>
                    <ul>
                        <li>yield, yield from</li>
                        <li>Iterator protocol</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/howto/functional.html#generators" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python generators and iterators including yield, yield from, and the iterator protocol')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#context-managers" class="card-title-link" onclick="scrollToTopic('context-managers'); return false;">
                        <h4>Context Managers</h4>
                    </a>
                    <ul>
                        <li>with statement</li>
                        <li>contextlib</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/contextlib.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python context managers including with statement, __enter__/__exit__, and contextlib')">Copy Prompt</button>
                    </div>
                </div>
            </div>

            <!-- Standard Library Column -->
            <div class="roadmap-column">
                <h3 class="column-title stdlib-py">Standard Library</h3>

                <div class="roadmap-card">
                    <a href="#intermediate" class="card-title-link" onclick="scrollToTopic('intermediate'); return false;">
                        <h4>Collections</h4>
                    </a>
                    <ul>
                        <li>defaultdict, Counter</li>
                        <li>deque, namedtuple</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/collections.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python collections module including defaultdict, Counter, deque, and namedtuple with examples')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#intermediate" class="card-title-link" onclick="scrollToTopic('intermediate'); return false;">
                        <h4>itertools</h4>
                    </a>
                    <ul>
                        <li>Infinite iterators</li>
                        <li>Combinatoric functions</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/itertools.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python itertools module including chain, product, permutations, and groupby with examples')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#intermediate" class="card-title-link" onclick="scrollToTopic('intermediate'); return false;">
                        <h4>functools</h4>
                    </a>
                    <ul>
                        <li>lru_cache, partial</li>
                        <li>reduce, wraps</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/functools.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python functools module including lru_cache, partial, reduce, and singledispatch')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#python-basics" class="card-title-link" onclick="scrollToTopic('python-basics'); return false;">
                        <h4>pathlib & Files</h4>
                    </a>
                    <ul>
                        <li>Path operations</li>
                        <li>File I/O</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/pathlib.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python pathlib module and file operations including Path, reading/writing files')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#intermediate" class="card-title-link" onclick="scrollToTopic('intermediate'); return false;">
                        <h4>dataclasses</h4>
                    </a>
                    <ul>
                        <li>@dataclass decorator</li>
                        <li>field(), frozen</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/dataclasses.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python dataclasses including @dataclass, field(), frozen, and comparison with namedtuple')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#python-basics" class="card-title-link" onclick="scrollToTopic('python-basics'); return false;">
                        <h4>JSON & Serialization</h4>
                    </a>
                    <ul>
                        <li>json, pickle</li>
                        <li>Custom encoders</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/json.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python JSON handling including json module, custom encoders/decoders, and serialization')">Copy Prompt</button>
                    </div>
                </div>
            </div>

            <!-- Concurrency & Async Column -->
            <div class="roadmap-column">
                <h3 class="column-title concurrency-py">Concurrency & Async</h3>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>Threading</h4>
                    </a>
                    <ul>
                        <li>Thread, Lock</li>
                        <li>GIL limitations</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/threading.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python threading including Thread, Lock, GIL, and when to use threading vs multiprocessing')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>Multiprocessing</h4>
                    </a>
                    <ul>
                        <li>Process, Pool</li>
                        <li>Shared memory</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/multiprocessing.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python multiprocessing including Process, Pool, shared memory, and inter-process communication')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card highlight-card">
                    <a href="/python-asyncio" class="card-title-link">
                        <h4>asyncio</h4>
                    </a>
                    <ul>
                        <li>async/await</li>
                        <li>Event loop, Tasks</li>
                    </ul>
                    <div class="card-actions">
                        <a href="/python-asyncio" class="docs-link">Full Guide</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python asyncio including async/await, event loop, Tasks, and concurrent coroutines')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>concurrent.futures</h4>
                    </a>
                    <ul>
                        <li>ThreadPoolExecutor</li>
                        <li>ProcessPoolExecutor</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/concurrent.futures.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python concurrent.futures including ThreadPoolExecutor, ProcessPoolExecutor, and Future objects')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>Async HTTP</h4>
                    </a>
                    <ul>
                        <li>aiohttp, httpx</li>
                        <li>Async patterns</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.aiohttp.org/" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python async HTTP with aiohttp and httpx including client sessions and server setup')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>Queues & Patterns</h4>
                    </a>
                    <ul>
                        <li>asyncio.Queue</li>
                        <li>Producer/Consumer</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/asyncio-queue.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python async patterns including asyncio.Queue, producer/consumer, and rate limiting')">Copy Prompt</button>
                    </div>
                </div>
            </div>

            <!-- Production & Tooling Column -->
            <div class="roadmap-column">
                <h3 class="column-title production-py">Production & Tooling</h3>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>Testing</h4>
                    </a>
                    <ul>
                        <li>pytest, unittest</li>
                        <li>Mocking, fixtures</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.pytest.org/" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python testing with pytest including fixtures, mocking, parametrize, and async tests')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#intermediate" class="card-title-link" onclick="scrollToTopic('intermediate'); return false;">
                        <h4>Debugging</h4>
                    </a>
                    <ul>
                        <li>pdb, breakpoint()</li>
                        <li>logging module</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/pdb.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python debugging with pdb, breakpoint(), and the logging module with examples')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#intermediate" class="card-title-link" onclick="scrollToTopic('intermediate'); return false;">
                        <h4>Type Checking</h4>
                    </a>
                    <ul>
                        <li>mypy, pyright</li>
                        <li>Generic types</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://mypy.readthedocs.io/" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python type checking with mypy including Generic types, Protocol, and TypeVar')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>Packaging</h4>
                    </a>
                    <ul>
                        <li>pyproject.toml</li>
                        <li>setuptools, poetry</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://packaging.python.org/" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python packaging with pyproject.toml, setuptools, and poetry for distribution')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#python-basics" class="card-title-link" onclick="scrollToTopic('python-basics'); return false;">
                        <h4>Virtual Environments</h4>
                    </a>
                    <ul>
                        <li>venv, pip</li>
                        <li>requirements.txt</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/venv.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python virtual environments with venv, pip, and requirements management')">Copy Prompt</button>
                    </div>
                </div>

                <div class="roadmap-card">
                    <a href="#advanced" class="card-title-link" onclick="scrollToTopic('advanced'); return false;">
                        <h4>Profiling</h4>
                    </a>
                    <ul>
                        <li>cProfile, line_profiler</li>
                        <li>memory_profiler</li>
                    </ul>
                    <div class="card-actions">
                        <a href="https://docs.python.org/3/library/profile.html" target="_blank" class="docs-link">Docs</a>
                        <button class="copy-prompt-btn" onclick="copyPrompt('Explain Python profiling with cProfile, line_profiler, and memory_profiler for optimization')">Copy Prompt</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- VARIABLES & TYPES SECTION -->
    <section id="variables-types-py" class="guide-section">
        <div class="section-header">
            <h2><span class="section-icon">&#128221;</span> Variables & Types</h2>
            <p class="section-description">Python's type system, dynamic typing, and type hints</p>
        </div>

        <div class="topic-block highlight-block">
            <div class="block-header">
                <span class="block-icon">&#128161;</span>
                <h3>Why Python?</h3>
            </div>
            <p>Python is one of the most versatile programming languages. It's used for web development, data science, machine learning, automation, and more. Its readable syntax and vast ecosystem make it perfect for beginners and experts alike.</p>

            <div class="concept-grid">
                <div class="concept-card">
                    <span class="concept-icon">&#128221;</span>
                    <h4>Readable Syntax</h4>
                    <p>Clean, intuitive code</p>
                </div>
                <div class="concept-card">
                    <span class="concept-icon">&#128230;</span>
                    <h4>Rich Ecosystem</h4>
                    <p>PyPI: 400K+ packages</p>
                </div>
                <div class="concept-card">
                    <span class="concept-icon">&#9889;</span>
                    <h4>Rapid Development</h4>
                    <p>Prototype to production fast</p>
                </div>
                <div class="concept-card">
                    <span class="concept-icon">&#128101;</span>
                    <h4>Community</h4>
                    <p>Huge, helpful community</p>
                </div>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128221;</span>
                <h3>Variables and Types</h3>
            </div>
            <p>Python is dynamically typed, but supports type hints for better code documentation and IDE support.</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Variables and Type Hints
from typing import List, Dict, Optional, Tuple, Any

# Basic types - dynamically typed
name = "Alice"      # str
age = 30            # int
price = 19.99       # float
is_active = True    # bool

# With type hints (PEP 484)
name: str = "Alice"
age: int = 30
price: float = 19.99
is_active: bool = True

# Collections
numbers: List[int] = [1, 2, 3, 4, 5]
user_data: Dict[str, Any] = {"name": "Alice", "age": 30}
coordinates: Tuple[float, float] = (10.5, 20.3)
unique_ids: set = {1, 2, 3, 4, 5}

# Optional type (can be None)
email: Optional[str] = None

# Print with f-strings (formatted strings)
print(f"Name: {name}, Age: {age}")
print(f"Price: ${price:.2f}")
print(f"Active: {is_active}")

# Type checking at runtime
print(f"\nType of name: {type(name)}")
print(f"Type of age: {type(age)}")
print(f"Type of numbers: {type(numbers)}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#9881;</span>
                <h3>Functions</h3>
            </div>
            <p>Functions are first-class objects in Python. They can be passed around, stored in variables, and returned from other functions.</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Functions - Complete Guide
from typing import Callable, Any

# Basic function with type hints
def greet(name: str) -> str:
    """Return a greeting message."""
    return f"Hello, {name}!"

# Default arguments
def create_user(name: str, age: int = 0, active: bool = True) -> dict:
    return {"name": name, "age": age, "active": active}

# *args - variable positional arguments
def sum_all(*numbers: int) -> int:
    """Sum all provided numbers."""
    return sum(numbers)

# **kwargs - variable keyword arguments
def print_info(**info: Any) -> None:
    """Print all key-value pairs."""
    for key, value in info.items():
        print(f"{key}: {value}")

# Function returning function (closure)
def multiplier(factor: int) -> Callable[[int], int]:
    def multiply(x: int) -> int:
        return x * factor
    return multiply

# Lambda functions (anonymous)
square = lambda x: x ** 2
add = lambda a, b: a + b

# Examples
print("=== Basic Function ===")
print(greet("Alice"))

print("\n=== Default Arguments ===")
print(create_user("Bob"))
print(create_user("Charlie", age=25))

print("\n=== *args ===")
print(f"Sum: {sum_all(1, 2, 3, 4, 5)}")

print("\n=== **kwargs ===")
print_info(name="Alice", age=30, city="NYC")

print("\n=== Closure ===")
double = multiplier(2)
triple = multiplier(3)
print(f"double(5) = {double(5)}")
print(f"triple(5) = {triple(5)}")

print("\n=== Lambda ===")
print(f"square(4) = {square(4)}")
numbers = [1, 2, 3, 4, 5]
squared = list(map(square, numbers))
print(f"Squared: {squared}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128230;</span>
                <h3>Classes and OOP</h3>
            </div>
            <p>Python supports object-oriented programming with classes, inheritance, and special methods (dunder methods).</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Classes - OOP Complete Guide
from dataclasses import dataclass
from typing import Optional

class User:
    """A basic user class demonstrating OOP concepts."""

    # Class variable (shared by all instances)
    user_count = 0

    def __init__(self, name: str, email: str, age: int = 0):
        """Initialize user instance."""
        self.name = name
        self.email = email
        self.age = age
        User.user_count += 1
        self._id = User.user_count  # Private by convention

    def __str__(self) -> str:
        """String representation for print()."""
        return f"User({self.name}, {self.email})"

    def __repr__(self) -> str:
        """Developer representation."""
        return f"User(name={self.name!r}, email={self.email!r}, age={self.age})"

    def __eq__(self, other: object) -> bool:
        """Equality comparison."""
        if not isinstance(other, User):
            return NotImplemented
        return self.email == other.email

    @property
    def id(self) -> int:
        """Read-only property."""
        return self._id

    @classmethod
    def from_dict(cls, data: dict) -> "User":
        """Alternative constructor from dictionary."""
        return cls(data["name"], data["email"], data.get("age", 0))

    @staticmethod
    def validate_email(email: str) -> bool:
        """Static method - doesn't need instance."""
        return "@" in email and "." in email


# Inheritance
class AdminUser(User):
    """Admin user with extra permissions."""

    def __init__(self, name: str, email: str, permissions: list = None):
        super().__init__(name, email)
        self.permissions = permissions or ["read", "write", "admin"]

    def __str__(self) -> str:
        return f"Admin({self.name}, perms={self.permissions})"


# Using dataclass (Python 3.7+)
@dataclass
class Product:
    name: str
    price: float
    quantity: int = 0

    @property
    def total_value(self) -> float:
        return self.price * self.quantity


# Examples
print("=== Basic Class ===")
user1 = User("Alice", "alice@example.com", 30)
print(user1)
print(repr(user1))

print("\n=== Class Method ===")
user_data = {"name": "Bob", "email": "bob@example.com", "age": 25}
user2 = User.from_dict(user_data)
print(user2)

print("\n=== Static Method ===")
print(f"Valid email: {User.validate_email('test@example.com')}")

print("\n=== Inheritance ===")
admin = AdminUser("Charlie", "charlie@example.com")
print(admin)

print("\n=== Dataclass ===")
product = Product("Laptop", 999.99, 5)
print(f"{product.name}: ${product.total_value:.2f}")

print(f"\n=== Class Variable ===")
print(f"Total users created: {User.user_count}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128451;</span>
                <h3>List Comprehensions and Generators</h3>
            </div>
            <p>Python's list comprehensions provide a concise way to create lists. Generators are memory-efficient iterators.</p>

            <div class="code-example">
                <pre><code class="language-python"># List Comprehensions and Generators
from typing import Iterator, Generator

# Basic list comprehension
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
squares = [x**2 for x in numbers]
print(f"Squares: {squares}")

# With condition
evens = [x for x in numbers if x % 2 == 0]
print(f"Evens: {evens}")

# Nested comprehension
matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
flattened = [item for row in matrix for item in row]
print(f"Flattened: {flattened}")

# Dictionary comprehension
word = "hello"
char_count = {char: word.count(char) for char in set(word)}
print(f"Char count: {char_count}")

# Set comprehension
unique_lengths = {len(word) for word in ["apple", "banana", "cherry"]}
print(f"Unique lengths: {unique_lengths}")

print("\n=== Generators ===")

# Generator expression (lazy evaluation)
squares_gen = (x**2 for x in range(1, 6))
print(f"Generator: {squares_gen}")
print(f"As list: {list(squares_gen)}")

# Generator function with yield
def fibonacci(n: int) -> Generator[int, None, None]:
    """Generate first n Fibonacci numbers."""
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

print(f"Fibonacci: {list(fibonacci(10))}")

# Generator with yield from
def nested_generator() -> Generator[int, None, None]:
    yield from range(3)
    yield from range(10, 13)

print(f"Nested: {list(nested_generator())}")

# Memory comparison
import sys
list_size = sys.getsizeof([x**2 for x in range(1000)])
gen_size = sys.getsizeof((x**2 for x in range(1000)))
print(f"\nList size: {list_size} bytes")
print(f"Generator size: {gen_size} bytes")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>
    </section>

    <!-- DECORATORS VISUAL GUIDE SECTION -->
    <section id="decorators-section" class="guide-section">
        <div class="section-header">
            <h2><span class="section-icon">&#127873;</span> Python Decorators â€” Complete Visual Guide</h2>
            <p class="section-description">Master decorators with visual diagrams, practical examples, and common patterns</p>
        </div>

        <!-- What is a Decorator -->
        <div class="topic-block highlight-block">
            <div class="block-header">
                <span class="block-icon">&#127919;</span>
                <h3>1. What is a Decorator (Plain Meaning)</h3>
            </div>
            <p>A <strong>decorator</strong> is a function that <strong>wraps another function</strong> to extend or modify its behavior without changing its source code.</p>

            <div class="pointer-concept-card">
                <h4>Think of it like</h4>
                <p><strong>Gift Wrapping:</strong> The original function is the gift. The decorator is the wrapping paper - it adds extra features while the gift (original function) stays the same inside.</p>
            </div>

            <!-- Visual Decorator Diagram -->
            <div class="visual-memory-diagram">
                <svg viewBox="0 0 600 200" style="width: 100%; height: auto; margin: 16px 0;">
                    <!-- Original Function Box -->
                    <rect x="20" y="60" width="140" height="80" fill="#dcfce7" stroke="#16a34a" stroke-width="3" rx="8"/>
                    <text x="90" y="90" font-size="14" font-weight="600" text-anchor="middle" fill="#16a34a">Original Function</text>
                    <text x="90" y="115" font-size="12" text-anchor="middle" fill="#0a3069">def greet():</text>
                    <text x="90" y="130" font-size="11" text-anchor="middle" fill="#57606a">return "Hello"</text>

                    <!-- Arrow to Decorator -->
                    <path d="M 160 100 L 200 100" stroke="#3776ab" stroke-width="2" marker-end="url(#pyarrow1)"/>
                    <text x="180" y="90" font-size="10" text-anchor="middle" fill="#3776ab">@decorator</text>

                    <!-- Decorator Wrapper Box -->
                    <rect x="200" y="30" width="200" height="140" fill="#dbeafe" stroke="#3776ab" stroke-width="3" rx="8"/>
                    <text x="300" y="55" font-size="14" font-weight="600" text-anchor="middle" fill="#3776ab">Decorator Wrapper</text>

                    <!-- Inner function inside wrapper -->
                    <rect x="220" y="70" width="160" height="80" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                    <text x="300" y="95" font-size="11" text-anchor="middle" fill="#16a34a">Original Function</text>
                    <text x="300" y="115" font-size="10" text-anchor="middle" fill="#57606a">+ Extra Behavior</text>
                    <text x="300" y="135" font-size="10" text-anchor="middle" fill="#ea580c">(logging, timing, etc.)</text>

                    <!-- Arrow to Result -->
                    <path d="M 400 100 L 440 100" stroke="#3776ab" stroke-width="2" marker-end="url(#pyarrow1)"/>

                    <!-- Enhanced Function Box -->
                    <rect x="440" y="60" width="140" height="80" fill="#fef3c7" stroke="#d97706" stroke-width="3" rx="8"/>
                    <text x="510" y="90" font-size="14" font-weight="600" text-anchor="middle" fill="#d97706">Enhanced</text>
                    <text x="510" y="110" font-size="14" font-weight="600" text-anchor="middle" fill="#d97706">Function</text>
                    <text x="510" y="130" font-size="10" text-anchor="middle" fill="#57606a">Same name, more features</text>

                    <defs>
                        <marker id="pyarrow1" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                            <path d="M 0 0 L 10 5 L 0 10" fill="#3776ab"/>
                        </marker>
                    </defs>
                </svg>
            </div>

            <div class="pointer-concept-card success">
                <h4>Why Care?</h4>
                <p>Decorators let you add <strong>logging, timing, authentication, caching</strong> and more to functions without modifying them. They're essential for DRY (Don't Repeat Yourself) code.</p>
            </div>
        </div>

        <!-- @ Syntax Section -->
        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128161;</span>
                <h3>2. The @ Syntax (MOST IMPORTANT)</h3>
            </div>

            <div class="pointer-operators-grid">
                <div class="operator-card address-operator">
                    <h4>@ Syntax (Shorthand)</h4>
                    <p>The <code>@decorator</code> syntax is syntactic sugar for function reassignment.</p>
                    <svg viewBox="0 0 220 100" style="width: 100%; height: auto; margin: 12px 0;">
                        <rect x="10" y="10" width="90" height="40" fill="#dbeafe" stroke="#3776ab" stroke-width="2" rx="6"/>
                        <text x="55" y="35" font-size="11" font-weight="600" text-anchor="middle" fill="#3776ab">@timer</text>
                        <rect x="10" y="55" width="90" height="35" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                        <text x="55" y="78" font-size="10" text-anchor="middle" fill="#16a34a">def func():</text>
                        <text x="130" y="50" font-size="24" fill="#57606a">=</text>
                        <text x="170" y="50" font-size="10" fill="#d97706">wrapped</text>
                    </svg>
                    <pre><code class="language-python">@timer
def greet():
    return "Hello"</code></pre>
                </div>
                <div class="operator-card value-operator">
                    <h4>Equivalent Without @</h4>
                    <p>The <code>@</code> is just shorthand for wrapping and reassigning.</p>
                    <svg viewBox="0 0 220 100" style="width: 100%; height: auto; margin: 12px 0;">
                        <rect x="10" y="15" width="90" height="35" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                        <text x="55" y="38" font-size="10" text-anchor="middle" fill="#16a34a">def greet():</text>
                        <path d="M 100 32 L 130 32" stroke="#d97706" stroke-width="2" marker-end="url(#pyarr2)"/>
                        <rect x="10" y="55" width="200" height="35" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="6"/>
                        <text x="110" y="78" font-size="10" text-anchor="middle" fill="#d97706">greet = timer(greet)</text>
                        <defs>
                            <marker id="pyarr2" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                                <path d="M 0 0 L 10 5 L 0 10" fill="#d97706"/>
                            </marker>
                        </defs>
                    </svg>
                    <pre><code class="language-python">def greet():
    return "Hello"
greet = timer(greet)</code></pre>
                </div>
            </div>

            <div class="pointer-concept-card warning">
                <h4>Mnemonic</h4>
                <p><code>@decorator</code> = <strong>"wrap me!"</strong> | The function below gets passed to the decorator and replaced with the result.</p>
            </div>

            <div class="code-example">
                <pre><code class="language-python">import functools

def timer(func):
    """Decorator that times function execution."""
    @functools.wraps(func)  # Preserves function metadata
    def wrapper(*args, **kwargs):
        import time
        start = time.perf_counter()
        result = func(*args, **kwargs)
        elapsed = time.perf_counter() - start
        print(f"{func.__name__} took {elapsed:.4f}s")
        return result
    return wrapper

@timer
def slow_operation():
    """Simulates slow work."""
    import time
    time.sleep(0.1)
    return "Done!"

# Run it
result = slow_operation()
print(f"Result: {result}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <!-- Decorator Execution Flow -->
        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128202;</span>
                <h3>3. Execution Flow Visualization</h3>
            </div>

            <h4>What Happens When You Call a Decorated Function</h4>
            <div class="visual-example-diagram">
                <svg viewBox="0 0 550 180" style="width: 100%; height: auto; margin: 12px 0;">
                    <!-- Step 1: Call -->
                    <rect x="10" y="20" width="100" height="60" fill="#f0f4ff" stroke="#6b21a8" stroke-width="2" rx="6"/>
                    <text x="60" y="45" font-size="11" font-weight="600" text-anchor="middle" fill="#6b21a8">1. Call</text>
                    <text x="60" y="65" font-size="10" text-anchor="middle" fill="#1f2937">greet()</text>

                    <path d="M 110 50 L 140 50" stroke="#3776ab" stroke-width="2" marker-end="url(#pyarr3)"/>

                    <!-- Step 2: Wrapper -->
                    <rect x="140" y="10" width="120" height="80" fill="#dbeafe" stroke="#3776ab" stroke-width="2" rx="6"/>
                    <text x="200" y="35" font-size="11" font-weight="600" text-anchor="middle" fill="#3776ab">2. Wrapper</text>
                    <text x="200" y="55" font-size="9" text-anchor="middle" fill="#1f2937">Pre-processing</text>
                    <text x="200" y="70" font-size="9" text-anchor="middle" fill="#57606a">(logging, timing...)</text>

                    <path d="M 260 50 L 290 50" stroke="#16a34a" stroke-width="2" marker-end="url(#pyarr4)"/>

                    <!-- Step 3: Original -->
                    <rect x="290" y="20" width="100" height="60" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                    <text x="340" y="45" font-size="11" font-weight="600" text-anchor="middle" fill="#16a34a">3. Original</text>
                    <text x="340" y="65" font-size="10" text-anchor="middle" fill="#1f2937">func(*args)</text>

                    <path d="M 390 50 L 420 50" stroke="#d97706" stroke-width="2" marker-end="url(#pyarr5)"/>

                    <!-- Step 4: Post-processing -->
                    <rect x="420" y="10" width="120" height="80" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="6"/>
                    <text x="480" y="35" font-size="11" font-weight="600" text-anchor="middle" fill="#d97706">4. Post-process</text>
                    <text x="480" y="55" font-size="9" text-anchor="middle" fill="#1f2937">Cleanup, log result</text>
                    <text x="480" y="70" font-size="9" text-anchor="middle" fill="#57606a">return result</text>

                    <!-- Return flow -->
                    <path d="M 480 90 L 480 120 L 60 120 L 60 90" stroke="#6b21a8" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#pyarr6)"/>
                    <text x="270" y="140" font-size="10" text-anchor="middle" fill="#6b21a8">5. Return enhanced result</text>

                    <defs>
                        <marker id="pyarr3" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#3776ab"/></marker>
                        <marker id="pyarr4" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#16a34a"/></marker>
                        <marker id="pyarr5" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#d97706"/></marker>
                        <marker id="pyarr6" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#6b21a8"/></marker>
                    </defs>
                </svg>
            </div>

            <div class="code-example">
                <pre><code class="language-python">import functools

def debug(func):
    """Decorator showing execution flow."""
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        print(f"[1] Calling {func.__name__} with args={args}")
        print(f"[2] Pre-processing in wrapper...")

        result = func(*args, **kwargs)  # [3] Call original

        print(f"[4] Post-processing, got result: {result}")
        return result  # [5] Return
    return wrapper

@debug
def add(a, b):
    print(f"[3] Inside original add function")
    return a + b

# Watch the execution flow
print("=== Execution Flow Demo ===")
result = add(3, 5)
print(f"[5] Final result: {result}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <!-- Common Decorator Patterns -->
        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128214;</span>
                <h3>4. Common Decorator Patterns</h3>
            </div>

            <div class="pointer-rules-grid">
                <div class="rule-card do-rule">
                    <strong>Timer / Logging</strong>
                    <p>Track execution time and log function calls for debugging and monitoring.</p>
                </div>
                <div class="rule-card do-rule">
                    <strong>Caching / Memoization</strong>
                    <p>Cache expensive function results. Use <code>@functools.lru_cache</code> built-in.</p>
                </div>
                <div class="rule-card do-rule">
                    <strong>Authentication</strong>
                    <p>Check user permissions before allowing function execution (Flask, Django).</p>
                </div>
                <div class="rule-card do-rule">
                    <strong>Retry Logic</strong>
                    <p>Automatically retry failed operations with configurable attempts.</p>
                </div>
            </div>

            <div class="code-example">
                <pre><code class="language-python"># Common Decorator Patterns
import functools
import time

# 1. Caching with lru_cache (built-in!)
@functools.lru_cache(maxsize=128)
def fibonacci(n):
    if n < 2:
        return n
    return fibonacci(n - 1) + fibonacci(n - 2)

print("=== Memoization ===")
print(f"fib(30) = {fibonacci(30)}")
print(f"Cache info: {fibonacci.cache_info()}")

# 2. Decorator with arguments
def retry(max_attempts=3, delay=0.1):
    """Retry decorator with configuration."""
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            for attempt in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except Exception as e:
                    if attempt < max_attempts - 1:
                        print(f"Attempt {attempt + 1} failed, retrying...")
                        time.sleep(delay)
                    else:
                        raise
        return wrapper
    return decorator

@retry(max_attempts=3, delay=0.05)
def flaky_api_call():
    import random
    if random.random() < 0.7:
        raise ConnectionError("Network error")
    return "Success!"

print("\n=== Retry Pattern ===")
try:
    result = flaky_api_call()
    print(f"Result: {result}")
except ConnectionError:
    print("All attempts failed")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <!-- functools.wraps -->
        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#9888;</span>
                <h3>5. Always Use @functools.wraps!</h3>
            </div>

            <div class="pointer-concept-card error">
                <h4>Common Mistake</h4>
                <p>Without <code>@functools.wraps</code>, the decorated function loses its <strong>name, docstring, and metadata</strong>. Always include it!</p>
            </div>

            <div class="code-example">
                <pre><code class="language-python">import functools

# BAD: Without @functools.wraps
def bad_decorator(func):
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)
    return wrapper

# GOOD: With @functools.wraps
def good_decorator(func):
    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)
    return wrapper

@bad_decorator
def greet_bad():
    """Says hello."""
    return "Hello"

@good_decorator
def greet_good():
    """Says hello."""
    return "Hello"

print("=== Without @functools.wraps ===")
print(f"Name: {greet_bad.__name__}")  # 'wrapper' - WRONG!
print(f"Doc: {greet_bad.__doc__}")    # None - WRONG!

print("\n=== With @functools.wraps ===")
print(f"Name: {greet_good.__name__}")  # 'greet_good' - Correct!
print(f"Doc: {greet_good.__doc__}")    # 'Says hello.' - Correct!</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>
    </section>

    <!-- GENERATORS VISUAL GUIDE SECTION -->
    <section id="generators-section" class="guide-section">
        <div class="section-header">
            <h2><span class="section-icon">&#9889;</span> Python Generators â€” Complete Visual Guide</h2>
            <p class="section-description">Master generators and iterators with visual diagrams and practical examples</p>
        </div>

        <!-- What is a Generator -->
        <div class="topic-block highlight-block">
            <div class="block-header">
                <span class="block-icon">&#127919;</span>
                <h3>1. What is a Generator (Plain Meaning)</h3>
            </div>
            <p>A <strong>generator</strong> is a function that <strong>produces values one at a time</strong> using <code>yield</code>, pausing between each value instead of computing everything at once.</p>

            <div class="pointer-concept-card">
                <h4>Think of it like</h4>
                <p><strong>A Vending Machine:</strong> Instead of getting all snacks at once (list), you get one snack each time you press the button (generator). Memory efficient!</p>
            </div>

            <!-- Visual Generator Diagram -->
            <div class="visual-memory-diagram">
                <svg viewBox="0 0 600 180" style="width: 100%; height: auto; margin: 16px 0;">
                    <!-- Generator Function -->
                    <rect x="20" y="40" width="140" height="100" fill="#dbeafe" stroke="#3776ab" stroke-width="3" rx="8"/>
                    <text x="90" y="65" font-size="14" font-weight="600" text-anchor="middle" fill="#3776ab">Generator</text>
                    <text x="90" y="85" font-size="11" text-anchor="middle" fill="#0a3069">def count():</text>
                    <text x="90" y="100" font-size="10" text-anchor="middle" fill="#16a34a">yield 1</text>
                    <text x="90" y="115" font-size="10" text-anchor="middle" fill="#16a34a">yield 2</text>
                    <text x="90" y="130" font-size="10" text-anchor="middle" fill="#16a34a">yield 3</text>

                    <!-- Arrow 1 -->
                    <path d="M 160 90 L 200 90" stroke="#d97706" stroke-width="2" marker-end="url(#genarrow1)"/>
                    <text x="180" y="80" font-size="10" fill="#d97706">next()</text>

                    <!-- Value 1 -->
                    <rect x="200" y="60" width="60" height="60" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                    <text x="230" y="85" font-size="10" text-anchor="middle" fill="#16a34a">yields</text>
                    <text x="230" y="105" font-size="20" font-weight="700" text-anchor="middle" fill="#0a3069">1</text>

                    <!-- Arrow 2 -->
                    <path d="M 260 90 L 300 90" stroke="#d97706" stroke-width="2" marker-end="url(#genarrow1)"/>
                    <text x="280" y="80" font-size="10" fill="#d97706">next()</text>

                    <!-- Value 2 -->
                    <rect x="300" y="60" width="60" height="60" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                    <text x="330" y="85" font-size="10" text-anchor="middle" fill="#16a34a">yields</text>
                    <text x="330" y="105" font-size="20" font-weight="700" text-anchor="middle" fill="#0a3069">2</text>

                    <!-- Arrow 3 -->
                    <path d="M 360 90 L 400 90" stroke="#d97706" stroke-width="2" marker-end="url(#genarrow1)"/>
                    <text x="380" y="80" font-size="10" fill="#d97706">next()</text>

                    <!-- Value 3 -->
                    <rect x="400" y="60" width="60" height="60" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                    <text x="430" y="85" font-size="10" text-anchor="middle" fill="#16a34a">yields</text>
                    <text x="430" y="105" font-size="20" font-weight="700" text-anchor="middle" fill="#0a3069">3</text>

                    <!-- Arrow 4 - StopIteration -->
                    <path d="M 460 90 L 500 90" stroke="#ef4444" stroke-width="2" marker-end="url(#genarrow2)"/>
                    <text x="480" y="80" font-size="10" fill="#ef4444">next()</text>

                    <!-- StopIteration -->
                    <rect x="500" y="60" width="80" height="60" fill="#fef2f2" stroke="#ef4444" stroke-width="2" rx="6"/>
                    <text x="540" y="85" font-size="9" text-anchor="middle" fill="#ef4444">Stop</text>
                    <text x="540" y="100" font-size="9" text-anchor="middle" fill="#ef4444">Iteration</text>

                    <defs>
                        <marker id="genarrow1" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#d97706"/></marker>
                        <marker id="genarrow2" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#ef4444"/></marker>
                    </defs>
                </svg>
            </div>

            <div class="pointer-concept-card success">
                <h4>Why Care?</h4>
                <p>Generators are <strong>memory efficient</strong> - they produce values on-demand instead of storing everything in memory. Perfect for large datasets, infinite sequences, and streaming data.</p>
            </div>
        </div>

        <!-- yield vs return -->
        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128161;</span>
                <h3>2. yield vs return (KEY DIFFERENCE)</h3>
            </div>

            <div class="pointer-operators-grid">
                <div class="operator-card address-operator">
                    <h4>return (Regular Function)</h4>
                    <p><code>return</code> sends back a value and <strong>terminates</strong> the function completely.</p>
                    <svg viewBox="0 0 220 80" style="width: 100%; height: auto; margin: 12px 0;">
                        <rect x="10" y="10" width="90" height="60" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="6"/>
                        <text x="55" y="35" font-size="11" text-anchor="middle" fill="#d97706">return [1,2,3]</text>
                        <text x="55" y="55" font-size="9" text-anchor="middle" fill="#57606a">ALL at once</text>
                        <path d="M 100 40 L 140 40" stroke="#d97706" stroke-width="2" marker-end="url(#retarr)"/>
                        <text x="180" y="45" font-size="12" fill="#d97706">[1,2,3]</text>
                        <defs><marker id="retarr" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#d97706"/></marker></defs>
                    </svg>
                    <pre><code class="language-python">def get_all():
    return [1, 2, 3]  # done</code></pre>
                </div>
                <div class="operator-card value-operator">
                    <h4>yield (Generator)</h4>
                    <p><code>yield</code> sends back a value and <strong>pauses</strong> - can resume later!</p>
                    <svg viewBox="0 0 220 80" style="width: 100%; height: auto; margin: 12px 0;">
                        <rect x="10" y="10" width="90" height="60" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                        <text x="55" y="35" font-size="11" text-anchor="middle" fill="#16a34a">yield 1, 2, 3</text>
                        <text x="55" y="55" font-size="9" text-anchor="middle" fill="#57606a">ONE at a time</text>
                        <path d="M 100 40 L 140 40" stroke="#16a34a" stroke-width="2" marker-end="url(#yieldarr)"/>
                        <text x="160" y="35" font-size="12" fill="#16a34a">1</text>
                        <text x="175" y="45" font-size="12" fill="#16a34a">2</text>
                        <text x="190" y="55" font-size="12" fill="#16a34a">3</text>
                        <defs><marker id="yieldarr" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#16a34a"/></marker></defs>
                    </svg>
                    <pre><code class="language-python">def gen():
    yield 1; yield 2; yield 3</code></pre>
                </div>
            </div>

            <div class="pointer-concept-card warning">
                <h4>Mnemonic</h4>
                <p><code>return</code> = <strong>"here's everything, goodbye!"</strong> | <code>yield</code> = <strong>"here's one, I'll wait for you to ask for more"</strong></p>
            </div>

            <div class="code-example">
                <pre><code class="language-python"># Generator vs List - Memory comparison
import sys

# List - stores ALL values in memory
def get_numbers_list(n):
    return [i for i in range(n)]

# Generator - produces values on demand
def get_numbers_gen(n):
    for i in range(n):
        yield i

# Compare memory usage
n = 10000
numbers_list = get_numbers_list(n)
numbers_gen = get_numbers_gen(n)

print("=== Memory Comparison ===")
print(f"List size: {sys.getsizeof(numbers_list):,} bytes")
print(f"Generator size: {sys.getsizeof(numbers_gen):,} bytes")

print("\n=== Using the generator ===")
# Iterate over generator (values produced on demand)
gen = get_numbers_gen(5)
print(f"First: {next(gen)}")
print(f"Second: {next(gen)}")
print(f"Third: {next(gen)}")
print(f"Rest: {list(gen)}")  # Consume remaining</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <!-- Generator Expressions -->
        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128202;</span>
                <h3>3. Generator Expressions (Compact Syntax)</h3>
            </div>

            <p>Generator expressions are like list comprehensions but use <code>()</code> instead of <code>[]</code>.</p>

            <div class="pointer-operators-grid">
                <div class="operator-card address-operator">
                    <h4>List Comprehension [ ]</h4>
                    <p>Creates list immediately, uses more memory.</p>
                    <pre><code class="language-python">squares = [x**2 for x in range(1000)]
# All 1000 values in memory NOW</code></pre>
                </div>
                <div class="operator-card value-operator">
                    <h4>Generator Expression ( )</h4>
                    <p>Creates generator, memory efficient.</p>
                    <pre><code class="language-python">squares = (x**2 for x in range(1000))
# Values computed on demand</code></pre>
                </div>
            </div>

            <div class="code-example">
                <pre><code class="language-python"># Generator expressions in action
import sys

# List comprehension vs Generator expression
list_comp = [x**2 for x in range(1000)]
gen_expr = (x**2 for x in range(1000))

print("=== Memory Comparison ===")
print(f"List: {sys.getsizeof(list_comp):,} bytes")
print(f"Generator: {sys.getsizeof(gen_expr):,} bytes")

# Common patterns with generator expressions
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# Sum of squares (efficient - no intermediate list)
total = sum(x**2 for x in numbers)
print(f"\nSum of squares: {total}")

# Any/all with generators
has_even = any(x % 2 == 0 for x in numbers)
all_positive = all(x > 0 for x in numbers)
print(f"Has even: {has_even}")
print(f"All positive: {all_positive}")

# Chain generators (lazy evaluation)
result = sum(x for x in range(1000000) if x % 2 == 0)
print(f"Sum of even numbers 0-999999: {result:,}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <!-- yield from -->
        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128214;</span>
                <h3>4. yield from (Delegate to Sub-generators)</h3>
            </div>

            <p><code>yield from</code> delegates to another iterable, yielding each of its values.</p>

            <div class="visual-example-diagram">
                <svg viewBox="0 0 500 120" style="width: 100%; height: auto; margin: 12px 0;">
                    <!-- Main Generator -->
                    <rect x="10" y="20" width="120" height="80" fill="#dbeafe" stroke="#3776ab" stroke-width="2" rx="6"/>
                    <text x="70" y="45" font-size="11" font-weight="600" text-anchor="middle" fill="#3776ab">Main Gen</text>
                    <text x="70" y="65" font-size="10" text-anchor="middle" fill="#0a3069">yield from sub</text>

                    <path d="M 130 60 L 170 60" stroke="#d97706" stroke-width="2" marker-end="url(#yfarrow)"/>

                    <!-- Sub Generator -->
                    <rect x="170" y="20" width="100" height="80" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="6"/>
                    <text x="220" y="45" font-size="11" font-weight="600" text-anchor="middle" fill="#16a34a">Sub Gen</text>
                    <text x="220" y="65" font-size="10" text-anchor="middle" fill="#0a3069">[1, 2, 3]</text>

                    <path d="M 270 60 L 310 60" stroke="#16a34a" stroke-width="2" marker-end="url(#yfarrow2)"/>

                    <!-- Values -->
                    <text x="330" y="50" font-size="16" fill="#0a3069">1</text>
                    <text x="360" y="60" font-size="16" fill="#0a3069">2</text>
                    <text x="390" y="70" font-size="16" fill="#0a3069">3</text>

                    <text x="420" y="60" font-size="10" fill="#57606a">...yielded directly</text>

                    <defs>
                        <marker id="yfarrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#d97706"/></marker>
                        <marker id="yfarrow2" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M 0 0 L 10 5 L 0 10" fill="#16a34a"/></marker>
                    </defs>
                </svg>
            </div>

            <div class="code-example">
                <pre><code class="language-python"># yield from - Delegating to sub-generators

def countdown(n):
    """Count down from n to 1."""
    while n > 0:
        yield n
        n -= 1

def countup(n):
    """Count up from 1 to n."""
    for i in range(1, n + 1):
        yield i

def full_sequence(n):
    """Combine generators using yield from."""
    print("Counting down...")
    yield from countdown(n)

    print("Counting up...")
    yield from countup(n)

    print("Done!")

# Use the combined generator
print("=== yield from Demo ===")
for value in full_sequence(3):
    print(f"  Got: {value}")

# Practical example: Flatten nested lists
def flatten(nested):
    """Flatten arbitrarily nested lists."""
    for item in nested:
        if isinstance(item, list):
            yield from flatten(item)  # Recurse!
        else:
            yield item

print("\n=== Flatten Nested List ===")
nested = [1, [2, 3, [4, 5]], 6, [7, [8, 9]]]
flat = list(flatten(nested))
print(f"Nested: {nested}")
print(f"Flat: {flat}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>
    </section>

    <!-- INTERMEDIATE SECTION -->
    <section id="intermediate" class="guide-section">
        <div class="section-header">
            <h2><span class="section-icon">&#128295;</span> Intermediate Python</h2>
            <p class="section-description">Level up with decorators, context managers, and standard library</p>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#127873;</span>
                <h3>Decorators</h3>
            </div>
            <p>Decorators modify or enhance functions without changing their source code. They're fundamental to Python frameworks.</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Decorators - Complete Guide
import functools
import time
from typing import Callable, Any

# Basic decorator
def timer(func: Callable) -> Callable:
    """Time function execution."""
    @functools.wraps(func)
    def wrapper(*args, **kwargs) -> Any:
        start = time.perf_counter()
        result = func(*args, **kwargs)
        end = time.perf_counter()
        print(f"{func.__name__} took {end - start:.4f}s")
        return result
    return wrapper

# Decorator with arguments
def retry(max_attempts: int = 3, delay: float = 1.0):
    """Retry decorator with configurable attempts."""
    def decorator(func: Callable) -> Callable:
        @functools.wraps(func)
        def wrapper(*args, **kwargs) -> Any:
            for attempt in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except Exception as e:
                    if attempt < max_attempts - 1:
                        print(f"Attempt {attempt + 1} failed: {e}")
                        time.sleep(delay)
                    else:
                        raise
        return wrapper
    return decorator

# Using decorators
@timer
def slow_function():
    """A slow function."""
    time.sleep(0.1)
    return "done"

@retry(max_attempts=3, delay=0.1)
def flaky_function():
    """Sometimes fails."""
    import random
    if random.random() < 0.7:
        raise ValueError("Random failure")
    return "success"

# Class-based decorator
class Memoize:
    """Cache function results."""
    def __init__(self, func: Callable):
        self.func = func
        self.cache = {}

    def __call__(self, *args) -> Any:
        if args in self.cache:
            return self.cache[args]
        result = self.func(*args)
        self.cache[args] = result
        return result

@Memoize
def fibonacci(n: int) -> int:
    if n < 2:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

# Examples
print("=== Timer Decorator ===")
slow_function()

print("\n=== Memoized Fibonacci ===")
print(f"fib(30) = {fibonacci(30)}")

print("\n=== Built-in functools.lru_cache ===")
@functools.lru_cache(maxsize=128)
def expensive_computation(n: int) -> int:
    return sum(i**2 for i in range(n))

print(f"Result: {expensive_computation(1000)}")
print(f"Cache info: {expensive_computation.cache_info()}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128274;</span>
                <h3>Context Managers</h3>
            </div>
            <p>Context managers ensure proper resource management using the <code>with</code> statement.</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Context Managers
from contextlib import contextmanager
import time
from typing import Generator

# Class-based context manager
class Timer:
    """Time code execution."""
    def __init__(self, name: str = "Block"):
        self.name = name

    def __enter__(self):
        self.start = time.perf_counter()
        return self

    def __exit__(self, exc_type, exc_val, exc_tb):
        elapsed = time.perf_counter() - self.start
        print(f"{self.name} took {elapsed:.4f}s")
        return False  # Don't suppress exceptions

# Function-based context manager
@contextmanager
def temp_value(obj: dict, key: str, value) -> Generator:
    """Temporarily set a dict value."""
    old_value = obj.get(key)
    obj[key] = value
    try:
        yield obj
    finally:
        if old_value is None:
            del obj[key]
        else:
            obj[key] = old_value

# Database-like context manager
@contextmanager
def database_connection(db_name: str) -> Generator:
    """Simulate database connection."""
    print(f"Connecting to {db_name}...")
    connection = {"name": db_name, "connected": True}
    try:
        yield connection
    finally:
        print(f"Closing connection to {db_name}")
        connection["connected"] = False

# Examples
print("=== Class-based Timer ===")
with Timer("Loop"):
    total = sum(i**2 for i in range(10000))
    print(f"Result: {total}")

print("\n=== Temp Value ===")
config = {"debug": False, "timeout": 30}
print(f"Before: {config}")
with temp_value(config, "debug", True) as cfg:
    print(f"Inside: {cfg}")
print(f"After: {config}")

print("\n=== Database Connection ===")
with database_connection("mydb") as conn:
    print(f"Working with: {conn}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128230;</span>
                <h3>Collections Module</h3>
            </div>
            <p>The collections module provides specialized container types for efficient data handling.</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Collections Module
from collections import Counter, defaultdict, deque, namedtuple, OrderedDict

# Counter - count hashable objects
print("=== Counter ===")
words = ["apple", "banana", "apple", "cherry", "banana", "apple"]
word_count = Counter(words)
print(f"Counts: {word_count}")
print(f"Most common: {word_count.most_common(2)}")

text = "hello world"
char_count = Counter(text)
print(f"Char count: {char_count}")

# defaultdict - dict with default factory
print("\n=== defaultdict ===")
grouped = defaultdict(list)
data = [("fruit", "apple"), ("fruit", "banana"), ("vegetable", "carrot")]
for category, item in data:
    grouped[category].append(item)
print(f"Grouped: {dict(grouped)}")

# Counter with defaultdict
word_len = defaultdict(int)
for word in words:
    word_len[word] += 1
print(f"Word lengths: {dict(word_len)}")

# deque - double-ended queue (efficient append/pop from both ends)
print("\n=== deque ===")
d = deque([1, 2, 3], maxlen=5)
d.append(4)      # Add to right
d.appendleft(0)  # Add to left
print(f"Deque: {d}")
d.rotate(1)      # Rotate right
print(f"Rotated: {d}")

# namedtuple - tuple with named fields
print("\n=== namedtuple ===")
Point = namedtuple("Point", ["x", "y"])
p = Point(10, 20)
print(f"Point: {p}, x={p.x}, y={p.y}")

# Convert to dict
print(f"As dict: {p._asdict()}")

# With defaults (Python 3.7+)
Person = namedtuple("Person", ["name", "age", "city"], defaults=["Unknown", 0, "NYC"])
print(f"Person: {Person('Alice')}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>
    </section>

    <!-- ADVANCED SECTION -->
    <section id="advanced" class="guide-section">
        <div class="section-header">
            <h2><span class="section-icon">&#128640;</span> Advanced Python</h2>
            <p class="section-description">Concurrency, testing, and production patterns</p>
        </div>

        <div class="topic-block highlight-block">
            <div class="block-header">
                <span class="block-icon">&#128101;</span>
                <h3>Threading and Concurrency</h3>
            </div>
            <p>Python's threading is limited by the GIL (Global Interpreter Lock), but it's still useful for I/O-bound tasks.</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Threading
import threading
import time
from concurrent.futures import ThreadPoolExecutor, as_completed

# Basic threading
def worker(name: str, delay: float) -> str:
    """Simulate work with delay."""
    print(f"Worker {name} starting...")
    time.sleep(delay)
    result = f"Worker {name} done after {delay}s"
    print(result)
    return result

# Using ThreadPoolExecutor (recommended approach)
print("=== ThreadPoolExecutor ===")
start = time.perf_counter()

with ThreadPoolExecutor(max_workers=3) as executor:
    # Submit tasks
    futures = [
        executor.submit(worker, "A", 0.1),
        executor.submit(worker, "B", 0.15),
        executor.submit(worker, "C", 0.2),
    ]

    # Collect results as they complete
    for future in as_completed(futures):
        result = future.result()

elapsed = time.perf_counter() - start
print(f"Total time: {elapsed:.2f}s (ran in parallel!)")

# Thread synchronization with Lock
print("\n=== Thread-safe Counter ===")

class Counter:
    def __init__(self):
        self.value = 0
        self.lock = threading.Lock()

    def increment(self):
        with self.lock:
            current = self.value
            time.sleep(0.001)  # Simulate processing
            self.value = current + 1

counter = Counter()

def increment_many(n: int):
    for _ in range(n):
        counter.increment()

threads = [threading.Thread(target=increment_many, args=(10,)) for _ in range(5)]
for t in threads:
    t.start()
for t in threads:
    t.join()

print(f"Counter value: {counter.value} (expected: 50)")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>

            <div class="info-box">
                <div class="info-header">
                    <span class="info-icon">&#128161;</span>
                    <span>GIL Note</span>
                </div>
                <p><strong>The Global Interpreter Lock (GIL)</strong> prevents true parallel execution of Python threads. Use <strong>multiprocessing</strong> for CPU-bound tasks or <strong>asyncio</strong> for I/O-bound tasks.</p>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#9889;</span>
                <h3>concurrent.futures</h3>
            </div>
            <p>The <code>concurrent.futures</code> module provides a high-level interface for asynchronously executing callables.</p>

            <div class="code-example">
                <pre><code class="language-python"># concurrent.futures - ProcessPoolExecutor
from concurrent.futures import ProcessPoolExecutor, ThreadPoolExecutor
import time
import math

def cpu_bound_task(n: int) -> int:
    """CPU-intensive calculation."""
    return sum(i * i for i in range(n))

def io_bound_task(url: str) -> dict:
    """Simulated I/O task."""
    time.sleep(0.1)  # Simulate network delay
    return {"url": url, "status": 200}

# CPU-bound with ProcessPoolExecutor
print("=== CPU-bound Tasks ===")
numbers = [1000000, 2000000, 3000000, 4000000]

start = time.perf_counter()
# Note: ProcessPoolExecutor doesn't work in this sandbox
# but here's the pattern:
with ThreadPoolExecutor(max_workers=4) as executor:
    results = list(executor.map(cpu_bound_task, [10000] * 4))
elapsed = time.perf_counter() - start
print(f"Results: {results[:2]}...")
print(f"Time: {elapsed:.2f}s")

# I/O-bound with ThreadPoolExecutor
print("\n=== I/O-bound Tasks ===")
urls = ["http://example.com/1", "http://example.com/2",
        "http://example.com/3", "http://example.com/4"]

start = time.perf_counter()
with ThreadPoolExecutor(max_workers=4) as executor:
    results = list(executor.map(io_bound_task, urls))
elapsed = time.perf_counter() - start
print(f"Fetched {len(results)} URLs in {elapsed:.2f}s")

# Using submit for more control
print("\n=== Using submit() ===")
with ThreadPoolExecutor(max_workers=2) as executor:
    future1 = executor.submit(cpu_bound_task, 10000)
    future2 = executor.submit(cpu_bound_task, 20000)

    print(f"Task 1 done: {future1.done()}")
    print(f"Task 1 result: {future1.result()}")
    print(f"Task 2 result: {future2.result()}")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128270;</span>
                <h3>Error Handling Patterns</h3>
            </div>
            <p>Production-quality Python code requires robust error handling and custom exceptions.</p>

            <div class="code-example">
                <pre><code class="language-python"># Python Error Handling Patterns
from typing import Optional
import traceback

# Custom exceptions
class ValidationError(Exception):
    """Raised when validation fails."""
    def __init__(self, field: str, message: str):
        self.field = field
        self.message = message
        super().__init__(f"{field}: {message}")

class NotFoundError(Exception):
    """Raised when resource is not found."""
    pass

class ServiceError(Exception):
    """Raised for service-level errors."""
    def __init__(self, message: str, code: int = 500):
        self.code = code
        super().__init__(message)

# Function with proper error handling
def validate_user(data: dict) -> dict:
    """Validate user data."""
    if "name" not in data:
        raise ValidationError("name", "is required")
    if len(data["name"]) < 2:
        raise ValidationError("name", "must be at least 2 characters")
    if "email" not in data:
        raise ValidationError("email", "is required")
    if "@" not in data["email"]:
        raise ValidationError("email", "must be valid")
    return data

def get_user(user_id: int) -> Optional[dict]:
    """Get user by ID."""
    users = {1: {"name": "Alice"}, 2: {"name": "Bob"}}
    if user_id not in users:
        raise NotFoundError(f"User {user_id} not found")
    return users[user_id]

# Using try/except/else/finally
print("=== Validation Error ===")
try:
    validate_user({"name": "A"})
except ValidationError as e:
    print(f"Validation failed - {e.field}: {e.message}")

print("\n=== Not Found Error ===")
try:
    user = get_user(99)
except NotFoundError as e:
    print(f"Error: {e}")

print("\n=== Chained Exceptions ===")
try:
    try:
        result = 1 / 0
    except ZeroDivisionError as e:
        raise ServiceError("Calculation failed", 500) from e
except ServiceError as e:
    print(f"Service error (code {e.code}): {e}")
    print(f"Caused by: {e.__cause__}")

print("\n=== try/except/else/finally ===")
try:
    user = get_user(1)
except NotFoundError:
    print("User not found")
else:
    print(f"Found user: {user}")
finally:
    print("Cleanup complete")</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>

        <div class="topic-block">
            <div class="block-header">
                <span class="block-icon">&#128203;</span>
                <h3>Testing with pytest</h3>
            </div>
            <p>pytest is the standard testing framework for Python. Here are common patterns.</p>

            <div class="code-example">
                <pre><code class="language-python"># pytest Patterns (conceptual - pytest runs externally)
import unittest
from unittest.mock import Mock, patch
from dataclasses import dataclass
from typing import List

# Code to test
@dataclass
class User:
    name: str
    email: str

    def is_valid(self) -> bool:
        return "@" in self.email and len(self.name) >= 2

class UserService:
    def __init__(self, repository):
        self.repository = repository

    def get_user(self, user_id: int) -> User:
        data = self.repository.find_by_id(user_id)
        if not data:
            raise ValueError(f"User {user_id} not found")
        return User(**data)

    def get_all_users(self) -> List[User]:
        return [User(**d) for d in self.repository.find_all()]

# Unit tests
class TestUser(unittest.TestCase):
    def test_valid_user(self):
        user = User("Alice", "alice@example.com")
        self.assertTrue(user.is_valid())

    def test_invalid_email(self):
        user = User("Alice", "invalid-email")
        self.assertFalse(user.is_valid())

    def test_short_name(self):
        user = User("A", "a@example.com")
        self.assertFalse(user.is_valid())

class TestUserService(unittest.TestCase):
    def setUp(self):
        self.mock_repo = Mock()
        self.service = UserService(self.mock_repo)

    def test_get_user_success(self):
        self.mock_repo.find_by_id.return_value = {
            "name": "Alice", "email": "alice@example.com"
        }
        user = self.service.get_user(1)
        self.assertEqual(user.name, "Alice")
        self.mock_repo.find_by_id.assert_called_once_with(1)

    def test_get_user_not_found(self):
        self.mock_repo.find_by_id.return_value = None
        with self.assertRaises(ValueError) as ctx:
            self.service.get_user(99)
        self.assertIn("99", str(ctx.exception))

# Run tests
if __name__ == "__main__":
    loader = unittest.TestLoader()
    suite = unittest.TestSuite()

    suite.addTests(loader.loadTestsFromTestCase(TestUser))
    suite.addTests(loader.loadTestsFromTestCase(TestUserService))

    runner = unittest.TextTestRunner(verbosity=2)
    runner.run(suite)</code></pre>
                <button class="run-code-btn" data-language="python">Run Code</button>
            </div>
        </div>
    </section>

        </main><!-- END guide-content -->
    </div><!-- END guide-layout -->
</div><!-- END guide-page -->

<style>
/* ============================================
   SIDEBAR LAYOUT STYLES FOR PYTHON
   ============================================ */
.guide-layout {
    display: flex;
    gap: 2rem;
    margin-top: 1.5rem;
    min-height: calc(100vh - 200px);
}

.guide-sidebar {
    position: sticky;
    top: 1rem;
    width: 220px;
    min-width: 220px;
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
    background: var(--color-bg-primary, #ffffff);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.75rem;
    padding: 1rem;
    align-self: flex-start;
    flex-shrink: 0;
}

.sidebar-header {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--color-text-secondary, #64748b);
    padding-bottom: 0.75rem;
    margin-bottom: 0.75rem;
    border-bottom: 1px solid var(--color-border, #e2e8f0);
}

.sidebar-section {
    margin-bottom: 1rem;
}

.sidebar-section-title {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-bottom: 0.5rem;
    padding: 0.25rem 0;
}

.sidebar-section-title.py-title {
    color: #3776ab;
}

.sidebar-link {
    display: block;
    font-size: 0.8rem;
    color: var(--color-text-secondary, #64748b);
    text-decoration: none;
    padding: 0.35rem 0.5rem;
    border-radius: 0.375rem;
    margin-bottom: 0.15rem;
    transition: all 0.15s ease;
}

.sidebar-link:hover {
    background: #3776ab10;
    color: #3776ab;
}

.python-sidebar .sidebar-link.active {
    background: #3776ab;
    color: white;
    font-weight: 500;
}

.sidebar-home {
    display: block;
    font-weight: 600;
    padding: 0.5rem 0.75rem;
    margin-bottom: 0.75rem;
    border-bottom: 1px solid var(--color-border, #e2e8f0);
}

.guide-content {
    flex: 1;
    min-width: 0;
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
    padding-right: 0.5rem;
}

/* Two-pane layout: show only active section */
.guide-section {
    display: none;
    margin-bottom: 1rem;
    padding-top: 0;
}

.guide-section.active {
    display: block;
}

@media (max-width: 900px) {
    .guide-layout {
        flex-direction: column;
    }

    .guide-sidebar {
        position: static;
        width: 100%;
        max-height: none;
        overflow-y: visible;
    }

    .sidebar-section {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .sidebar-section-title {
        width: 100%;
    }

    .sidebar-link {
        flex: 0 0 auto;
        margin-bottom: 0;
    }
}

/* Python Theme Colors */
.python-theme .guide-header {
    background: linear-gradient(135deg, #3776ab10 0%, #ffd43b10 100%);
    border-color: #3776ab30;
}

.python-badge {
    background: linear-gradient(135deg, #3776ab 0%, #ffd43b 100%) !important;
}

.python-theme .guide-header h1 {
    background: linear-gradient(135deg, #3776ab 0%, #306998 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.python-theme .guide-nav-link.active {
    background: linear-gradient(135deg, #3776ab 0%, #306998 100%);
}

.python-theme .section-header {
    border-bottom-color: #3776ab;
}

.python-theme .topic-block code {
    background: #3776ab15;
    color: #3776ab;
}

.python-theme .topic-block.highlight-block {
    background: linear-gradient(135deg, #3776ab08 0%, #ffffff 100%);
    border-color: #3776ab40;
}

/* Python Roadmap Column Colors */
.column-title.fundamentals-py {
    background: #dbeafe;
    color: #1e40af;
    border-left: 4px solid #3776ab;
}

.column-title.stdlib-py {
    background: #fef3c7;
    color: #92400e;
    border-left: 4px solid #ffd43b;
}

.column-title.concurrency-py {
    background: #dcfce7;
    color: #166534;
    border-left: 4px solid #16a34a;
}

.column-title.production-py {
    background: #fce7f3;
    color: #9d174d;
    border-left: 4px solid #db2777;
}

/* Reuse roadmap styles from golang.html */
.roadmap-section {
    margin-bottom: 2.5rem;
    padding: 1.5rem;
    background: var(--color-bg-secondary, #f8fafc);
    border-radius: 1rem;
    border: 1px solid var(--color-border, #e2e8f0);
}

.roadmap-title {
    font-size: 1.5rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 0.5rem;
    color: var(--color-text-primary, #0f172a);
}

.roadmap-subtitle {
    text-align: center;
    color: var(--color-text-secondary, #64748b);
    margin-bottom: 1.5rem;
    font-size: 0.95rem;
}

.roadmap-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
}

@media (max-width: 1024px) {
    .roadmap-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 600px) {
    .roadmap-grid {
        grid-template-columns: 1fr;
    }
}

.roadmap-column {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.column-title {
    font-size: 0.85rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    margin-bottom: 0.25rem;
}

.roadmap-card {
    background: var(--color-bg-primary, #ffffff);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.5rem;
    padding: 0.875rem;
    transition: all 0.2s ease;
}

.roadmap-card:hover {
    border-color: #3776ab;
    box-shadow: 0 4px 12px rgba(55, 118, 171, 0.15);
    transform: translateY(-2px);
}

.roadmap-card.highlight-card {
    border-color: #3776ab;
    background: linear-gradient(135deg, #3776ab08 0%, #ffffff 100%);
}

.roadmap-card h4 {
    font-size: 0.9rem;
    font-weight: 600;
    margin: 0 0 0.5rem 0;
    color: var(--color-text-primary, #0f172a);
}

.roadmap-card ul {
    margin: 0 0 0.5rem 0;
    padding-left: 1.25rem;
    font-size: 0.8rem;
    color: var(--color-text-secondary, #64748b);
}

.roadmap-card li {
    margin-bottom: 0.15rem;
}

.card-link {
    display: inline-block;
    font-size: 0.75rem;
    color: #3776ab;
    text-decoration: none;
    margin-bottom: 0.5rem;
}

.card-link:hover {
    text-decoration: underline;
}

.copy-prompt-btn {
    display: block;
    width: 100%;
    padding: 0.4rem 0.75rem;
    background: var(--color-bg-tertiary, #f1f5f9);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.375rem;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--color-text-secondary, #64748b);
    cursor: pointer;
    transition: all 0.2s;
}

.copy-prompt-btn:hover {
    background: #3776ab;
    color: white;
    border-color: #3776ab;
}

/* Card title link styles */
.card-title-link {
    text-decoration: none;
    color: inherit;
    display: block;
}

.card-title-link:hover h4 {
    color: #3776ab;
}

/* Card actions container */
.card-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    margin-top: 0.5rem;
}

.docs-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.35rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 500;
    color: #3776ab;
    background: #3776ab10;
    border: 1px solid #3776ab30;
    border-radius: 0.375rem;
    text-decoration: none;
    transition: all 0.2s;
    white-space: nowrap;
}

.docs-link:hover {
    background: #3776ab;
    color: white;
    border-color: #3776ab;
}

/* Visual Guide Styles (for Decorators and Generators sections) */
.pointer-concept-card {
    background: var(--color-bg-secondary, #f8fafc);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.75rem;
    padding: 1rem;
    margin: 1rem 0;
}

.pointer-concept-card h4 {
    margin: 0 0 0.5rem 0;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--color-text-primary, #0f172a);
}

.pointer-concept-card p {
    margin: 0;
    font-size: 0.95rem;
}

.pointer-concept-card.success {
    background: #dcfce710;
    border-color: #16a34a40;
}

.pointer-concept-card.success h4 {
    color: #16a34a;
}

.pointer-concept-card.warning {
    background: #fef3c710;
    border-color: #d9770640;
}

.pointer-concept-card.warning h4 {
    color: #d97706;
}

.pointer-concept-card.error {
    background: #fef2f210;
    border-color: #ef444440;
}

.pointer-concept-card.error h4 {
    color: #ef4444;
}

.visual-memory-diagram {
    background: var(--color-bg-secondary, #f8fafc);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.75rem;
    padding: 1rem;
    margin: 1rem 0;
    overflow: hidden;
    max-width: 100%;
}

.visual-memory-diagram svg,
.visual-example-diagram svg,
.operator-card svg {
    max-width: 100%;
    height: auto;
    display: block;
}

.visual-example-diagram {
    background: var(--color-bg-secondary, #f8fafc);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.5rem;
    padding: 1rem;
    margin: 0.75rem 0;
    overflow: hidden;
    max-width: 100%;
}

.pointer-operators-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin: 1rem 0;
}

@media (max-width: 768px) {
    .pointer-operators-grid {
        grid-template-columns: 1fr;
    }
}

.operator-card {
    background: var(--color-bg-secondary, #f8fafc);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.75rem;
    padding: 1.25rem;
}

.operator-card.address-operator {
    border-left: 4px solid #d97706;
}

.operator-card.value-operator {
    border-left: 4px solid #3776ab;
}

.operator-card h4 {
    margin: 0 0 0.75rem 0;
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-text-primary, #0f172a);
}

.operator-card p {
    font-size: 0.9rem;
    color: var(--color-text-secondary, #64748b);
    margin-bottom: 0.75rem;
}

.operator-card pre {
    background: #1e293b;
    padding: 0.75rem;
    border-radius: 0.5rem;
    margin: 0.75rem 0 0 0;
    font-size: 0.8rem;
}

.operator-card pre code {
    background: none;
    color: #e2e8f0;
}

.pointer-rules-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin: 1rem 0;
}

@media (max-width: 768px) {
    .pointer-rules-grid {
        grid-template-columns: 1fr;
    }
}

.rule-card {
    background: var(--color-bg-secondary, #f8fafc);
    border: 1px solid var(--color-border, #e2e8f0);
    border-radius: 0.5rem;
    padding: 1rem;
}

.rule-card.do-rule {
    border-left: 3px solid #16a34a;
}

.rule-card strong {
    color: #16a34a;
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.85rem;
}

.rule-card p {
    margin: 0;
    font-size: 0.85rem;
    color: var(--color-text-secondary, #64748b);
}

/* Infinite scroll fix */
.guide-page {
    max-width: 1300px;
    margin: 0 auto;
    padding: 2rem;
    overflow-x: hidden;
}

html, body {
    overflow-x: hidden;
    max-width: 100vw;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .card-actions {
        flex-direction: column;
    }

    .docs-link {
        width: 100%;
        justify-content: center;
    }

    .copy-prompt-btn {
        width: 100%;
    }

    .guide-page {
        padding: 1rem;
    }
}
</style>

<script>
(function() {
    // Run code buttons
    document.querySelectorAll('.run-code-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const codeBlock = this.parentElement.querySelector('code');
            const code = codeBlock.textContent;
            const language = this.dataset.language || 'python';

            this.disabled = true;
            this.textContent = 'Running...';

            fetch('/api/run', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({code: code, language: language})
            })
            .then(response => response.json())
            .then(data => {
                if (data.id) {
                    let pollCount = 0;
                    const maxPolls = 120;
                    const checkResult = () => {
                        pollCount++;
                        fetch('/api/execution/' + data.id)
                        .then(r => r.json())
                        .then(result => {
                            if (result.state === 'complete' || result.state === 'error' || result.state === 'stopped') {
                                this.disabled = false;
                                this.textContent = 'Run Code';

                                let outputDiv = this.parentElement.querySelector('.code-output');
                                if (!outputDiv) {
                                    outputDiv = document.createElement('div');
                                    outputDiv.className = 'code-output';
                                    this.parentElement.appendChild(outputDiv);
                                }

                                if (result.error) {
                                    outputDiv.innerHTML = '<pre class="error-output">' + escapeHtml(result.error) + '</pre>';
                                } else {
                                    outputDiv.innerHTML = '<pre class="success-output">' + escapeHtml(result.output || 'No output') + '</pre>';
                                }
                            } else if (pollCount >= maxPolls) {
                                this.disabled = false;
                                this.textContent = 'Run Code';
                                let outputDiv = this.parentElement.querySelector('.code-output');
                                if (!outputDiv) {
                                    outputDiv = document.createElement('div');
                                    outputDiv.className = 'code-output';
                                    this.parentElement.appendChild(outputDiv);
                                }
                                outputDiv.innerHTML = '<pre class="error-output">Execution timed out</pre>';
                            } else {
                                setTimeout(checkResult, 500);
                            }
                        });
                    };
                    checkResult();
                }
            })
            .catch(err => {
                this.disabled = false;
                this.textContent = 'Run Code';
                alert('Error: ' + err.message);
            });
        });
    });

    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // Highlight code if hljs available
    if (typeof hljs !== 'undefined') {
        document.querySelectorAll('.code-example pre code').forEach(block => {
            hljs.highlightElement(block);
        });
    }
})();

// Two-pane navigation: show/hide sections
function scrollToTopic(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
        // Hide roadmap section
        const roadmap = document.getElementById('roadmap');
        if (roadmap) roadmap.style.display = 'none';

        // Hide all guide sections
        document.querySelectorAll('.guide-section').forEach(s => {
            s.classList.remove('active');
        });

        // Show selected section
        section.classList.add('active');

        // Update sidebar nav active state
        document.querySelectorAll('.sidebar-link').forEach(link => {
            link.classList.remove('active');
        });

        // Find and activate the clicked link
        const activeLink = document.querySelector(`.sidebar-link[href="#${sectionId}"]`);
        if (activeLink) {
            activeLink.classList.add('active');
        }

        // Scroll content pane to top
        document.querySelector('.guide-content').scrollTop = 0;
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
}

// Show roadmap/overview
function showRoadmap() {
    // Hide all guide sections
    document.querySelectorAll('.guide-section').forEach(s => {
        s.classList.remove('active');
    });

    // Show roadmap
    const roadmap = document.getElementById('roadmap');
    if (roadmap) roadmap.style.display = 'block';

    // Update sidebar nav active state
    document.querySelectorAll('.sidebar-link').forEach(link => {
        link.classList.remove('active');
    });

    // Activate overview link
    const overviewLink = document.querySelector('.sidebar-home');
    if (overviewLink) overviewLink.classList.add('active');

    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Initialize: show roadmap by default
document.addEventListener('DOMContentLoaded', function() {
    // Roadmap is shown by default (no need to hide guide sections as they're hidden by CSS)
    const overviewLink = document.querySelector('.sidebar-home');
    if (overviewLink) overviewLink.classList.add('active');
});

// Copy prompt function
function copyPrompt(promptText) {
    navigator.clipboard.writeText(promptText).then(() => {
        const notification = document.createElement('div');
        notification.textContent = 'Prompt copied to clipboard!';
        notification.style.cssText = `
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #3776ab;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(55, 118, 171, 0.4);
            animation: slideIn 0.3s ease;
        `;
        document.body.appendChild(notification);

        setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => notification.remove(), 300);
        }, 2000);
    }).catch(err => {
        const textarea = document.createElement('textarea');
        textarea.value = promptText;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        alert('Prompt copied!');
    });
}

// Add animations
const styleSheet = document.createElement('style');
styleSheet.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
`;
document.head.appendChild(styleSheet);
</script>
