# Longest Common Subsequence

**Difficulty:** Medium (Yellow)

## Problem Statement

Given two strings `text1` and `text2`, return the length of their longest common subsequence. If there is no common subsequence, return 0.

A subsequence is a sequence that can be derived from another sequence by deleting some or no elements without changing the order of the remaining elements.

## Examples

**Example 1:**
```
Input: text1 = "abcde", text2 = "ace"
Output: 3
Explanation: The longest common subsequence is "ace" with length 3.
```

**Example 2:**
```
Input: text1 = "abc", text2 = "abc"
Output: 3
Explanation: The longest common subsequence is "abc" with length 3.
```

**Example 3:**
```
Input: text1 = "abc", text2 = "def"
Output: 0
Explanation: No common subsequence exists.
```

## Constraints

- 1 <= text1.length, text2.length <= 1000
- text1 and text2 consist of lowercase English characters only

---

## ğŸ§  Thought Process & Pattern Recognition

<details>
<summary><strong>Click to reveal thinking pattern</strong></summary>

### Step 1: Understand the Core Problem
**Question to ask yourself:** "What decisions do I make for each character?"

For each pair of characters (text1[i], text2[j]):
- If they MATCH: This character is part of LCS, extend from previous LCS
- If they DON'T MATCH: Take the better of two options (skip char from text1 OR text2)

### Step 2: Identify the Pattern
**Key insight:** This is a classic **Dynamic Programming** problem because:
- Optimal substructure: LCS of full strings depends on LCS of prefixes
- Overlapping subproblems: Same prefixes are computed multiple times

### Step 3: Define the Recurrence
```
If text1[i] == text2[j]:
    dp[i][j] = dp[i-1][j-1] + 1    // Match! Extend LCS
Else:
    dp[i][j] = max(dp[i-1][j], dp[i][j-1])  // Take best without this char
```

### Step 4: Recognize Similar Problems
This pattern appears in:
- Edit Distance
- Shortest Common Supersequence
- DNA sequence alignment

</details>

---

## ğŸ“Š Visual Diagram: How It Works

<details>
<summary><strong>Click to see step-by-step visualization</strong></summary>

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LONGEST COMMON SUBSEQUENCE VISUALIZATION                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  text1 = "abcde"                                                            â”‚
â”‚  text2 = "ace"                                                               â”‚
â”‚                                                                              â”‚
â”‚  Building the DP Table:                                                      â”‚
â”‚                                                                              â”‚
â”‚           ""    a    c    e                                                  â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”                                            â”‚
â”‚   ""   â”‚  0  â”‚  0  â”‚  0  â”‚  0  â”‚  â† Base case: empty string                 â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   a    â”‚  0  â”‚  1  â”‚  1  â”‚  1  â”‚  â† 'a' matches 'a', LCS = 1               â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   b    â”‚  0  â”‚  1  â”‚  1  â”‚  1  â”‚  â† 'b' doesn't match, carry forward       â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   c    â”‚  0  â”‚  1  â”‚  2  â”‚  2  â”‚  â† 'c' matches 'c', LCS = 2               â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   d    â”‚  0  â”‚  1  â”‚  2  â”‚  2  â”‚  â† 'd' doesn't match, carry forward       â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   e    â”‚  0  â”‚  1  â”‚  2  â”‚  3  â”‚  â† 'e' matches 'e', LCS = 3 âœ“            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                                              â”‚
â”‚  Answer: dp[5][3] = 3  (LCS = "ace")                                        â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         STEP-BY-STEP EXECUTION                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  STEP 1: Compare text1[0]='a' with text2[0]='a'                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  text1:  [â–ºa ][ b ][ c ][ d ][ e ]                                  â”‚   â”‚
â”‚  â”‚  text2:  [â–ºa ][ c ][ e ]                                            â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  'a' == 'a'  âœ“ MATCH!                                               â”‚   â”‚
â”‚  â”‚  dp[1][1] = dp[0][0] + 1 = 0 + 1 = 1                                â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Current LCS: "a" (length 1)                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  STEP 2: Compare text1[2]='c' with text2[1]='c'                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  text1:  [ a ][ b ][â–ºc ][ d ][ e ]                                  â”‚   â”‚
â”‚  â”‚  text2:  [ a ][â–ºc ][ e ]                                            â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  'c' == 'c'  âœ“ MATCH!                                               â”‚   â”‚
â”‚  â”‚  dp[3][2] = dp[2][1] + 1 = 1 + 1 = 2                                â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Current LCS: "ac" (length 2)                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  STEP 3: Compare text1[4]='e' with text2[2]='e'                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  text1:  [ a ][ b ][ c ][ d ][â–ºe ]                                  â”‚   â”‚
â”‚  â”‚  text2:  [ a ][ c ][â–ºe ]                                            â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  'e' == 'e'  âœ“ MATCH!                                               â”‚   â”‚
â”‚  â”‚  dp[5][3] = dp[4][2] + 1 = 2 + 1 = 3                                â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Final LCS: "ace" (length 3)                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         BACKTRACKING TO FIND LCS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Start at dp[5][3] = 3, trace back:                                         â”‚
â”‚                                                                              â”‚
â”‚           ""    a    c    e                                                  â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”                                            â”‚
â”‚   ""   â”‚  0  â”‚  0  â”‚  0  â”‚  0  â”‚                                            â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   a    â”‚  0  â”‚ [1] â”‚  1  â”‚  1  â”‚  â† 'a' added (diagonal move)              â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   b    â”‚  0  â”‚  1  â”‚  1  â”‚  1  â”‚                                            â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   c    â”‚  0  â”‚  1  â”‚ [2] â”‚  2  â”‚  â† 'c' added (diagonal move)              â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   d    â”‚  0  â”‚  1  â”‚  2  â”‚  2  â”‚                                            â”‚
â”‚        â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤                                            â”‚
â”‚   e    â”‚  0  â”‚  1  â”‚  2  â”‚ [3] â”‚  â† 'e' added (diagonal move)              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                                              â”‚
â”‚  Path: (5,3) â†’ (4,2) â†’ (2,1) â†’ (0,0)                                        â”‚
â”‚  LCS: "e" + "c" + "a" â†’ reverse â†’ "ace" âœ“                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

</details>

---

## Solution Approaches

### Approach 1: Dynamic Programming (2D Table) â­ RECOMMENDED

**Time Complexity:** O(m Ã— n)
**Space Complexity:** O(m Ã— n)

**Why this is best:**
- Clear visualization of subproblem relationships
- Easy to understand and debug
- Can reconstruct the actual LCS string if needed

### Approach 2: Space-Optimized DP

**Time Complexity:** O(m Ã— n)
**Space Complexity:** O(min(m, n))

**When to use:**
- Memory is constrained
- Only need the length, not the actual LCS

### Approach 3: Recursive with Memoization

**Time Complexity:** O(m Ã— n)
**Space Complexity:** O(m Ã— n)

**When to use:**
- More intuitive top-down thinking
- When only some subproblems need solving

---

## ğŸ“ˆ Complexity Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Approach            â”‚     Time     â”‚    Space     â”‚  Recommendation â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2D DP Table                 â”‚   O(m Ã— n)   â”‚   O(m Ã— n)   â”‚  â­ BEST       â”‚
â”‚ Space-Optimized DP          â”‚   O(m Ã— n)   â”‚ O(min(m,n))  â”‚  âœ“ Low memory  â”‚
â”‚ Recursive + Memo            â”‚   O(m Ã— n)   â”‚   O(m Ã— n)   â”‚  âœ“ Intuitive   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
